<div class="modal-header">
    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>
    <h4 translate>Report settings</h4>
</div>

<div class="modal-body">
    <form class="form-horizontal">
        <div class="form-group" ng-if="!vm.isForDash">
            <label class="col-sm-3 control-label" translate>Theme</label>
            <div class="col-sm-9">
                <app-theme-select theme="vm.settings.theme" on-change="vm.settings.theme = theme"></app-theme-select>
            </div>
        </div>

        <div class="form-group" ng-if="['chart-pie', 'chart-donut'].includes(vm.report.reportType)">
            <label class="col-sm-3 control-label" translate>Report type</label>
            <div class="col-sm-9">
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="vm.settings.reportType" name="report-settings-modal-report-type" value="chart-donut">
                        <img src="images/donut.png">
                        <span translate>Donut</span>
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="vm.settings.reportType" name="report-settings-modal-report-type" value="chart-pie">
                        <img src="images/pie.png">
                        <span translate>Pie</span>
                    </label>
                </div>
            </div>
        </div>

        <div class="form-group" ng-show="['chart-line', 'chart-pie', 'chart-donut'].indexOf(vm.report.reportType) >= 0">
            <label class="col-sm-3 control-label" translate>Legend position</label>
            <div class="col-sm-9">
                <select class="form-control" ng-model="vm.settings.legendPosition">
                    <option value="top" translate>top</option>
                    <option value="right" translate>right</option>
                    <option value="bottom" translate>bottom</option>
                    <option value="none" translate>none</option>
                </select>
            </div>
        </div>

        <div class="form-group" ng-show="vm.report.reportType === 'gauge'">
            <label class="col-sm-3 control-label" translate>Gauge max value</label>
            <div class="col-sm-9">
                <input class="form-control" ng-model="vm.settings.maxValue" type="number">
            </div>
        </div>

        <div class="form-group" ng-show="vm.report.reportType.startsWith('chart')">
            <label class="col-sm-3 control-label" translate>Height</label>
            <div class="col-sm-9">
                <input class="form-control" ng-model="vm.settings.height" type="number">
            </div>
        </div>

        <div class="form-group" ng-show="vm.report.reportType ==='pyramid'">
            <label class="col-sm-3 control-label" translate>Limits</label>
            <div class="col-sm-9">
                <input class="form-control" ng-model="vm.settings.range" type="text">
                <span class="help-block" translate>List your limits separated by a slash symbol <br>(Example : 20/30/40/50/60)</span> 
            </div>
        </div>

        <div class="form-group" ng-show="vm.report.reportType === 'map'">
            <label class="col-sm-3 control-label" translate>Map Layer</label>
            <div class="col-sm-9">
                <input class="form-control" ng-model="vm.settings.mapLayerUrl" type="string">
                <span class="help-block" translate="">Default : <i>'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png'</i></span>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>
    <button ng-click="vm.close({ $value: vm.settings });" class="btn btn-primary" translate>Save settings</button>
</div>
