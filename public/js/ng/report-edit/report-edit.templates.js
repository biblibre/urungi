(function(){'use strict';angular.module('app.report-edit').run(['$templateCache', function($templateCache) {$templateCache.put('partials/report-edit/report-edit.component.html','<div id="parentIntroReports" class="explorer-main-container" ng-intro-method="showIntro"  ng-intro-options="IntroOptions" >\n\n<div class="explorer-container">\n    <app-theme-link theme="selectedReport.theme"></app-theme-link>\n\n    <div class="explorer-header">\n        <a href="./" class="btn-home">\n            <i class="fa fa-home"></i>\n        </a>\n\n        <div class="explorer-header-title">\n            \n                <h3  ng-if="mode == \'preview\' && !selectedReport.reportName" translate>Explorer</h3>\n                <h3 app-editable-text="selectedReport.reportName">{{ selectedReport.reportName }}</h3>\n\n        </div>\n\n    <div class="explorer-header-buttons btn-group">\n        <button type="button" class="btn btn-default" ng-if="sql && user.reportsCreate && !isForDash" data-ng-click="saveReportAndStay()" translate>Save</button>\n        <button type="button" class="btn btn-default" ng-if="sql && user.reportsCreate && isForDash == true" data-ng-click="saveReportStructure(); saveReport4Dashboard(mode); initReport();" translate>Save</button>\n        <button ng-if="sql && !isForDash && user.reportsCreate" type="button" class="btn btn-default" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <span class="caret"></span>\n            <span class="sr-only">Toggle Dropdown</span>\n        </button>\n        <ul class="dropdown-menu">\n            <li>\n                <a ng-if="!isForDash" data-ng-click="saveReportAndPreview()" translate>Save and preview</a>\n                <a ng-if="!isForDash" data-ng-click="saveReportAndQuit()" translate>Save and quit</a>\n                <li role="separator" class="divider" ng-if="mode ==\'add\' && !isForDash && user.dashboardsCreate"></li>\n                <li>\n                    <a ng-if="mode ==\'add\' && !isForDash && user.dashboardsCreate" ng-click="pushToDash()" translate>Push it to a Dashboard</a>\n                </li>    \n            </li>\n        </ul>\n        <a ng-if="isForDash != true" ng-click="vm.goBack();" class="btn btn-default pull-right" uib-tooltip="{{\'Click here to cancel and backtrack\' | translate}}" tooltip-placement="bottom" translate>Cancel</a>\n        <a ng-if="isForDash == true" ng-click="cancelReport(selectedReport)" class="btn btn-default pull-right" uib-tooltip="{{\'Click here to cancel and back to the dashboard\' | translate}}" tooltip-placement="left" translate>Cancel</a>\n        <a class="btn btn-info pull-right" ng-click="showIntro()" style="margin-right: 3px;" uib-tooltip="{{\'Click here to conduct the guided tour for data explorer\' | translate}}" tooltip-placement="left"><i class="fa fa-map"></i></a>\n    </div>\n\n</div>\n\n    <div class="explorer-body">\n\n    <section id="objectPanel">\n        <menu>\n            <li id="searchTabButton" class="search hand-cursor" ng-class="{\'on\': tabs.selected == \'elements\'}">\n                <a  ng-click="tabs.selected = \'elements\'" >\n                    <div class="objectPanel-menu-label" translate>Elements</div>\n                    <i class="fa fa-newspaper-o fa-2" aria-hidden="true"></i>\n                </a>\n            </li>\n        </menu>\n\n        <section class="content" >\n            <section id="elementsTab" class="results infinite ng-hide" ng-show="tabs.selected == \'elements\'">\n                <section id="dataObjectsInner" class="layer scrollPane" ng-include="\'partials/report-edit/report-edit.data-objects.html\'">\n\n                </section>\n            </section>\n\n        </section>\n    </section>\n\n    <section id="dropZone" class="scrollPane multiPage rendered ng-scope" ng-include="\'partials/report-edit/report-edit.report-edit.html\'">\n    </section>\n\n    </div>\n\n</div>\n\n</div>\n');
$templateCache.put('partials/report-edit/report-edit.dashboard-list-modal.html','<!-- Modal -->\n\n<div class="modal " id="dashListModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n\n\n                <h4 class="modal-title" id="myModalLabel" translate>Select the dashboard to push this report to</h4>\n                <a id="newDashboardBtn" ng-if="user.dashboardsCreate"  class="btn btn-success pull-right" ng-click="reportPushed2Dash()" uib-tooltip="{{\'Click here to create a new dashboard and push this report in\' | translate}}" tooltip-placement="bottom" translate>New Dashboard</a>\n            </div>\n            <div id="searchModalBody" class="modal-body" ng-init="setHeight(\'searchModalBody\', \'full\', -118)">\n                <div  id="reportListItem" class="list-group-item" ng-repeat="dashboard in dashboards.items">\n\n                        <a id="pushToDashBtn" ng-click="reportPushed2Dash(dashboard._id)" class="pull-right" style="color: #000080; font-size: 16px; margin-right: 3px;" uib-tooltip="{{\'Click here to modify this dashboard\' | translate}}" tooltip-placement="bottom" translate>\n                            push\n                        </a>\n\n                        <a   ng-click="reportPushed2Dash(dashboard._id)"  uib-tooltip="{{\'Click here to select this dashboard\' | translate}}" tooltip-placement="bottom">\n                            <h4 id="reportListItemName" class="list-group-item-heading" ng-bind="dashboard.dashboardName"></h4>\n                            <p id="reportListItemDetails" class="list-group-item-text" ng-bind="dashboard.dashboardDescription"></p>\n                        </a>\n\n                </div>\n            </div>\n            <div class="modal-footer">\n\n            </div>\n        </div><!-- /.modal-content -->\n    </div><!-- /.modal-dialog -->\n</div>\n');
$templateCache.put('partials/report-edit/report-edit.data-objects.html','<div class="editor-panel">\n\n    <div id="selectLayerContainer" class="container-fluid"  ng-if="layers.length > 1" >\n    <span translate>Choose a layer:</span>\n    <select id="selectLayer" ng-disabled="selectedReport.properties.columns.length > 0 || selectedReport.properties.order.length > 0 || selectedReport.properties.filters.length > 0" \n        class="form-control" ng-model="selectedReport.selectedLayerID" ng-options="obj._id as obj.name for obj in layers"\n                                            ng-change="changeLayer(selectedReport.selectedLayerID)"></select>\n    </div>\n    <ng-include src="\'nestable_item.html\'"></ng-include>\n\n    <script type="text/ng-template" id="nestable_item.html">\n        <div id="layerObjects">\n            <div class="schema-element-report schema-item-report"  \n            ng-if="(rootItem.elementRole == \'dimension\' || rootItem.elementRole == \'measure\')">\n\n                <a id="ELEMENT_{{rootItem.elementID}}" class="list-group-item data-source-element schema-item-report"\n                title="{{rootItem.description}}" \n                ng-if="isUsable(rootItem)"\n                ng-click="autoFill(rootItem)" draggable="true" app-dragstart="onElementDragStart($event, rootItem)">\n                            <i class="fa fa-cube wst-main-color" \n                            ng-show="rootItem.elementType != \'date\' && rootItem.elementType != \'number\' && rootItem.elementType != \'count\' && (!rootItem.defaultAggregation)"\n                            data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Dimmension)"></i>\n                            <i class="fa fa-reorder wst-main-color" \n                            ng-show="rootItem.elementType == \'number\' || rootItem.elementType == \'count\' || (rootItem.elementType == \'string\' && rootItem.defaultAggregation)" \n                            data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Metric)"></i>\n                            <i class="fa fa-calendar-o wst-main-color" ng-show="rootItem.elementType == \'date\'" data-toggle="tooltip" data-placement="top"></i>\n\n\n                            <span ng-hide="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel"></span>\n                            <span ng-show="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel + \'(\' + rootItem.defaultAggregation + \')\'"></span>\n\n                </a>\n\n                <a ng-if="!isUsable(rootItem)" class="element-disabled">\n                    <i class="fa fa-cube" \n                    ng-show="rootItem.elementType != \'date\' && rootItem.elementType != \'number\' && rootItem.elementType != \'count\' && (!rootItem.defaultAggregation)"\n                    data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Dimmension)"></i>\n                    <i class="fa fa-reorder" \n                    ng-show="rootItem.elementType == \'number\' || rootItem.elementType == \'count\' || (rootItem.elementType == \'string\' && rootItem.defaultAggregation)" \n                    data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Metric)"></i>\n                    <i class="fa fa-calendar-o" ng-show="rootItem.elementType == \'date\'" data-toggle="tooltip" data-placement="top"></i>\n\n\n                    <span ng-hide="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel"></span>\n                    <span ng-show="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel + \'(\' + rootItem.defaultAggregation + \')\'"></span>\n                </a>\n\n            </div>\n\n            <div class="schema-element-report schema-item-report"  ng-if="(rootItem.elementRole == \'dimension\' || rootItem.elementRole == \'measure\') && rootItem.enabled == false" >\n                <span class="list-group-item data-source-element schema-item-report element-disabled" style="color: #85878c;">{{rootItem.elementLabel}}</span>\n            </div>\n\n            <div class="schema-folder-report"  ng-if="rootItem.elementRole == \'folder\'" >\n                <i ng-if="!rootItem.isCollapsed" class="fa fa-plus-square" ng-click="rootItem.isCollapsed = !rootItem.isCollapsed" ></i>\n                <i ng-if="rootItem.isCollapsed" class="fa fa-minus-square" ng-click="rootItem.isCollapsed = !rootItem.isCollapsed" ></i>\n                <a  role="button" ng-click="rootItem.isCollapsed = !rootItem.isCollapsed" >\n                    {{rootItem.elementLabel}}\n                </a>\n            </div>\n            <div uib-collapse="!rootItem.isCollapsed && rootItem.elementRole != \'root\'" style="padding-left=10px">\n            <ul ng-if="rootItem.elementRole == \'folder\' || rootItem.elementRole == \'root\'" class="schema-container-report list-group" ng-class="">\n                <li class="innerCont list-group-item hand-cursor schema-item-report" ng-repeat="rootItem in rootItem.elements">\n                    <ng-include src="\'nestable_item.html\'"></ng-include>\n                </li>\n            </ul>\n            </div>\n        </div>\n    </script>\n\n\n\n    <style>\n        #metrics-list {\n            list-style: none;\n        }\n\n        #metrics-list li {\n            margin: 1px;\n            padding: 5px;\n            border: 1px solid black;\n        }\n    </style>\n</div>\n');
$templateCache.put('partials/report-edit/report-edit.drop-area.html','    <!-- Metrics for charts and pivot tables -->\n\n    <app-report-dropzone ng-if="[\'pivot\', \'chart-line\', \'chart-donut\', \'chart-pie\', \'indicator\', \'gauge\', \'pyramid\'].includes(selectedReport.reportType)" report="selectedReport" elements="selectedReport.properties.ykeys" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" on-change="vm.onChangeField()" zone-info="\'Drop here your metrics\' | translate"></app-report-dropzone>\n\n    <!-- Column entries -->\n\n    <app-report-dropzone id="columnsDropzone" ng-if="selectedReport.reportType == \'grid\' || selectedReport.reportType == \'vertical-grid\'" report="selectedReport" elements="selectedReport.properties.columns" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" on-change="vm.onChangeField()" zone-info="\'Drop here your columns\' | translate"></app-report-dropzone>\n\n    <!--dimensions for pivot tables -->\n\n    <app-report-dropzone ng-if="selectedReport.reportType == \'pivot\'" report="selectedReport" elements="selectedReport.properties.pivotKeys.columns" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" on-change="vm.onChangeField()" zone-info="\'Drop here the table columns\' | translate"></app-report-dropzone>\n\n    <app-report-dropzone ng-if="selectedReport.reportType == \'pivot\'" report="selectedReport" elements="selectedReport.properties.pivotKeys.rows" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" on-change="vm.onChangeField()" zone-info="\'Drop here the table rows\' | translate"></app-report-dropzone>\n\n    <!--dimensions for charts -->\n\n    <app-report-dropzone ng-if="[\'chart-line\', \'chart-donut\', \'chart-pie\', \'pyramid\'].includes(selectedReport.reportType)" report="selectedReport" elements="selectedReport.properties.xkeys" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" on-change="vm.onChangeField()" zone-info="\'Drop here the dimension field\' | translate"></app-report-dropzone>\n\n    <!-- Filters -->\n\n    <div id="filtersDropzone"  class="container-fluid column-zone no-padding" app-drop-target on-drop="onDropOnFilter($event)" drop-accept="application/vnd.urungi.layer-element+json">\n        <div class="filter-zone-label pull-right" ng-hide="selectedReport.properties.filters.length > 0 || selectedReport.properties.recordLimit != undefined" translate>Drop here your filters</div>\n        <ul class="ul-drop no-padding" ng-model="selectedReport.properties.filters" ui-sortable="filterSortableOptions" ng-include="\'partials/report-edit/report-edit.filter.html\'"></ul>\n    </div>\n\n    <!-- Order keys -->\n\n    <app-report-dropzone id="orderByDropzone" ng-if="selectedReport.reportType != \'pivot\' && selectedReport.reportType != \'indicator\' && selectedReport.reportType != \'gauge\' && selectedReport.reportType != \'pyramid\'" report="selectedReport" elements="selectedReport.properties.order" set-sort-type="setSortType(item, direction)" on-drop="onDropField(elements, item, \'order\')" on-remove="onRemoveField(elements, item, \'order\')" zone-info="\'Drop here your order keys\' | translate"></app-report-dropzone>\n');
$templateCache.put('partials/report-edit/report-edit.filter-prompt-modal.html','<nd-modal id="filterPromptsModal">\n    <div class="modal-header ng-scope">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i></button>\n        <h4 class="modal-title" translate>Runtime Filter properties</h4>\n    </div>\n\n    <div class="modal-body ng-scope">\n\n        <div class="row">\n            <div class="col-md-6">\n                <div class="form-group">\n                    <label for="field-3" class="control-label" translate>Runtime Filter Label</label>\n\n                    <input type="text" class="form-control" id="field-3"  ng-model="selectedFilter.promptTitle">\n                </div>\n            </div>\n            <div class="col-md-6">\n                <div class="form-group">\n                    <label for="field-3" class="control-label"></label>\n                    <div class="checkbox">\n                        <label>\n                            <input type="checkbox" ng-model="selectedFilter.promptMandatory">\n                            <span translate>Answer required (mandatory filter)</span>\n                        </label>\n                    </div>\n                    <div class="checkbox">\n                        <label>\n                            <input type="checkbox" ng-model="selectedFilter.promptAllowMultipleSelection">\n                            <span translate>Allow Multiple selection</span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row" ng-if="selectedFilter.elementType !== \'date\'">\n\n            <div class="col-md-8">\n                <label class="control-label" translate>Suggestions</label>\n                <div class="ng-scope">\n                    <div class="checkbox">\n                        <label>\n                            <input type="checkbox" ng-model="selectedFilter.suggestions.show">\n                            <span translate>Show suggestions</span>\n                        </label>\n                    </div>\n                    <div class="checkbox" ng-if="selectedFilter.suggestions.show && !selectedFilter.suggestions.unlimited">\n                        <label>\n                            <span translate>Number of suggestions</span>\n                            <input type="number" ng-model="selectedFilter.suggestions.limit" placeholder="{{selectedFilter.suggestions.limit}}">\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="selectedFilter.suggestions.show" class="alert alert-warning col-md-12 text-justify">\n                <label>\n                    <input type="checkbox" ng-model="selectedFilter.suggestions.unlimited">\n                    <i class="fa fa-exclamation-triangle"></i>\n                    <span translate>Check if you want all suggestions on filter (too much data can crash the app)</span>\n                </label>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12">\n                        <div class="form-group no-margin">\n                            <label for="field-7" class="control-label" translate>Filter Instructions</label>\n                            <textarea ng-model="selectedFilter.promptInstructions" class="form-control autogrow" id="field-7"  style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 50px;"></textarea>\n                        </div>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="modal-footer ng-scope">\n        <button type="button" class="btn btn-white" data-dismiss="modal" translate>Close</button>\n        <button ng-show="selectedFilter.filterPrompt" type="button" class="btn btn-danger"  ng-click="confirmFilterModal()" translate>Deactivate Filter</button>\n        <button ng-show="!selectedFilter.filterPrompt" type="button" class="btn btn-info"  ng-click="confirmFilterModal()" translate>Activate Filter</button>\n    </div>\n</nd-modal>\n');
$templateCache.put('partials/report-edit/report-edit.filter.html','<li class="filter-box"\n    drop="onDropOnFilter($data, $event, filter)" drop-effect="copy" drop-accept="[\'json/custom-object\',\'json/column\']" \n    ng-repeat="filter in selectedReport.properties.filters" >\n    \n    <app-filter-prompt is-prompt="false" filter="filter" on-change="filterChanged()" set-prompt="showFilterModal(filter)" on-remove="onRemoveFilter(filter)"></app-filter-prompt>\n</li>\n\n<li class="filter-box" ng-show="selectedReport.properties.recordLimit!=undefined">\n    <span class="pull-right" style="padding: 7px 0;"><i class="fa fa-times hand-cursor" ng-click="forgetRecordLimit();"></i></span>\n\n    <div class="container-fluid form-inline">\n        <div class="col-md-11" translate>\n\n            Only show the first\n            <input type="number" ng-model="selectedReport.properties.recordLimit" size="8">\n            elements\n\n        </div>\n\n    </div>\n</li>\n');
$templateCache.put('partials/report-edit/report-edit.report-column-settings-modal.component.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>\n    <h4 translate>Settings for \'{{ vm.column.elementLabel }}\'</h4>\n</div>\n\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label class="col-sm-3 control-label" for="report-column-settings-modal-label" translate>Label</label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" id="report-column-settings-modal-label" name="report-column-settings-modal-label" ng-model="vm.settings.label">\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.isAggregatable()">\n            <label class="col-sm-3 control-label" for="report-column-settings-modal-aggregation">Aggregation</label>\n            <div class="col-sm-9">\n                <select id="report-column-settings-modal-aggregation" class="form-control" ng-model="vm.settings.aggregation" ng-options="item.value as item.name for item in vm.aggregationsOptions">\n                    <option value="">No aggregation</option>\n                </select>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.report.reportType === \'chart-line\'">\n            <label class="col-sm-3 control-label">Type</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="spline">\n                        <img src="images/spline.png">\n                        <span translate>Spline</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="bar">\n                        <i class="fa fa-bar-chart"></i>\n                        <span translate>Bar</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="area">\n                        <i class="fa fa-area-chart"></i>\n                        <span translate>Area</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="line">\n                        <i class="fa fa-line-chart"></i>\n                        <span translate>Line</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="area-spline">\n                        <img src="images/area-spline.png">\n                        <span translate>Area spline</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="scatter">\n                        <img src="images/scatter.png">\n                        <span translate>Scatter</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.report.properties.xkeys.length > 1 && vm.settings.type === \'bar\'">\n            <label class="col-sm-3 control-label">Stack columns</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.doNotStack" ng-value="false">\n                        <span translate>Yes</span>\n                    </label>\n                </div>\n\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.doNotStack" ng-value="true">\n                        <span translate>No</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.column.elementType === \'date\'">\n            <label class="col-sm-3 control-label" translate>Format</label>\n            <div class="col-sm-9">\n                <input type="text" ng-model="vm.settings.format">\n                <div class="help-block" translate>\n                    See <a href="https://momentjs.com/docs/#/displaying/" target="_blank" rel="noreferrer">documentation</a> for examples\n                </div>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.column.elementType === \'number\'">\n            <label class="col-sm-3 control-label" translate>Format</label>\n            <div class="col-sm-9">\n                <input type="text" ng-model="vm.settings.format">\n                <div class="help-block" translate>\n                    See <a href="http://numeraljs.com/#format" target="_blank" rel="noreferrer">documentation</a> for examples\n                </div>\n            </div>\n        </div>\n\n        <div class="form-group" ng-if="vm.canCalculateTotal()">\n            <label class="col-sm-3 control-label" translate>Calculate total</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.calculateTotal" ng-value="false">\n                        <span translate>No</span>\n                    </label>\n                </div>\n\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.calculateTotal" ng-value="true">\n                        <span translate>Yes</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n\n<div class="modal-footer">\n    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button ng-click="vm.close({ $value: vm.settings });" class="btn btn-primary" translate>Save settings</button>\n</div>\n');
$templateCache.put('partials/report-edit/report-edit.report-dropzone.component.html','<div class="container-fluid column-zone no-padding" app-drop-target drop-accept="application/vnd.urungi.layer-element+json" on-drop="vm.onDropItem($event)">\n\n    <div class="filter-zone-label pull-right" ng-hide="vm.elements.length > 0">{{ vm.zoneInfo | translate }}</div>\n    <ul class="ul-drop no-padding" ng-model="vm.elements" ui-sortable>\n        <li class="column-box" ng-repeat="item in vm.elements">\n            <i class="fa fa-cube" ng-show="item.elementType != \'number\' && item.elementType != \'count\'"></i>\n            <i class="fa fa-list-ol" ng-show="item.elementType == \'number\' || item.elementType == \'count\'"></i>\n            <span>{{ vm.getColumnDescription(item) }}</span>\n            <span class="hand-cursor column-box-agg-btn" ng-if="vm.settingsAvailable" ng-click="vm.openColumnSettingsModal(item)">\n                <i class="fa fa-cog"></i>\n            </span>\n\n            <span ng-if="vm.setSortType">\n                <i ng-show="item.sortType == -1" class="fa fa-chevron-down hand-cursor order-box-close-btn" ng-click="vm.setSortType({ item: item, direction: 1 })" uib-tooltip="{{\'Click here to order descendent using this field\' | translate}}" tooltip-placement="bottom"></i>\n\n                <i ng-show="item.sortType != -1" class="fa fa-chevron-up hand-cursor order-box-close-btn" ng-click="vm.setSortType({ item: item, direction: -1 })" uib-tooltip="{{\'Click here to order ascendent using this field\' | translate}}" tooltip-placement="bottom"></i>\n            </span>\n\n            <i class="fa fa-times hand-cursor column-box-close-btn" ng-click="vm.onRemoveItem(item)" uib-tooltip="{{ \'Remove this item from this dimension\' | translate }}" tooltip-placement="bottom"></i>\n        </li>\n    </ul>\n</div>\n');
$templateCache.put('partials/report-edit/report-edit.report-edit.html','\n<div ng-include src="filterPromptModal"></div>\n\n<!--choose a widget to see your data-->\n<div id="reportType" class="container-fluid" ng-hide="queryID" style="width: 100%;">\n    <div class="row">\n        <div class="col-sm-12">\n            <!-- TYPE OF REPORT SELECTION -->\n            <a id="reportTypeGrid" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'grid\', \'report-unselected-btn\': selectedReport.reportType != \'grid\'}" ng-click="changeReportType(\'grid\')"><img src="images/grid.png"></a>\n            <a id="reportTypeVerticalGrid" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'vertical-grid\', \'report-unselected-btn\': selectedReport.reportType != \'vertical-grid\'}" ng-click="changeReportType(\'vertical-grid\')"><img src="images/vertical_grid.png"></a>\n            <a id="reportTypeCrossTable" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'pivot\', \'report-unselected-btn\': selectedReport.reportType != \'pivot\'}" ng-click="changeReportType(\'pivot\')"><img src="images/pivot_table.png"></a>\n            <a id="reportTypeChartLine" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'chart-line\', \'report-unselected-btn\': selectedReport.reportType != \'chart-line\'}" ng-click="changeReportType(\'chart-line\')"><img src="images/chart_line.png"></a>\n            <a id="reportTypePyramid" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'pyramid\', \'report-unselected-btn\': selectedReport.reportType != \'pyramid\'}" ng-click="changeReportType(\'pyramid\')"><img src="images/pyramid.png"></a>\n            <a id="reportTypeChartDonut" class="btn report-type-button" ng-class="{\'report-selected-btn\': [\'chart-donut\', \'chart-pie\'].includes(selectedReport.reportType), \'report-unselected-btn\': ![\'chart-donut\', \'chart-pie\'].includes(selectedReport.reportType)}" ng-click="changeReportType(\'chart-donut\')"><img src="images/chart_donut.png"></a>\n            <a id="reportTypeIndicator" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'indicator\', \'report-unselected-btn\': selectedReport.reportType != \'indicator\'}" ng-click="changeReportType(\'indicator\')"><img src="images/indicator.png"></a>\n            <a id="reportTypeGauge" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'gauge\', \'report-unselected-btn\': selectedReport.reportType != \'gauge\'}" ng-click="changeReportType(\'gauge\')"><img src="images/gauge.png"></a>\n\n            <button ng-show="isReportSettingsModalAvailable()" type="button" class="btn btn-default btn-sm pull-right" title="{{ \'Report settings\' | translate }}" ng-click="openReportSettingsModal()">\n                <i class="fa fa-gear"></i>\n            </button>\n        </div>\n    </div>\n</div>\n\n<div id="dropArea" class="container-fluid" style="width: 100%;" ng-include src="dropArea"></div>\n\n<div ng-if="previewAvailable()" class="container-fluid branded-border-panel" style="width: 100%;">\n    <div>\n        <span ng-show="selectedReport.properties.recordLimit == undefined">\n            <span translate>Quick display with</span>\n            <input type="number" ng-model="selectedRecordLimit.value" size="8">\n            <span translate>results.</span>\n            <button id="setLimit" class="btn btn-default" ng-click="chooseRecordLimit();" style="padding: 3px 10px;" uib-tooltip="{{ \'Move the limit to the filter area, will be used during runtime, not only during report building\' | translate }}" translate>Filter</button>\n        </span>\n        <button  id="viewSQL" class="btn btn-default" ng-show="user.viewSQL && sql" ng-click="getSQLPanel();"  style="padding: 3px 10px;"  translate>View SQL</button>\n        <span class="pull-right">\n            <button id="queryRefresh" class="btn btn-success" ng-show="previewAvailable()" ng-click="refresh();" style="padding: 3px 10px;">\n                <i class="fa fa-refresh hand-cursor"></i>\n                <span translate>Redraw</span>\n            </button>\n        </span>\n    </div>\n        <span ng-if="time !== undefined" class="label label-primary label-lg">{{results.length}} rows ({{time}}ms)</span>\n</div>\n\n<div ng-show="showSQL" class="panel" style="z-index: 100;">\n    <div class="panel-heading">\n        <div class="panel-title">\n            <span translate>SQL query</span>\n            <button type="button" class="close" ng-click="getSQLPanel();">&times;</button>\n        </div>\n    </div>\n\n    <div class="panel-body">\n        <p>{{sql}}</p>\n    </div>\n</div>\n\n<div report-view report="selectedReport" style="position: relative; overflow: auto;" mode="mode"></div>\n\n\n<div ng-include src="reportNameModal"></div>\n<div ng-include src="dashListModal"></div>\n');
$templateCache.put('partials/report-edit/report-edit.report-name-modal.html','\n\n<nd-modal id="theReportNameModal">\n    <div class="modal-body">\n        <form class="simple-form" role="form" name="reportNameForm">\n            <div class="form-group">\n                <label translate>Report Name</label>\n                <input name="reportName" type="text" class="form-control" ng-model="selectedReport.reportName" ng-required="true" required >\n                <span ng-show="reportNameForm.reportName.$invalid" class="help-inline" translate>The report name is required</span>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button ng-click="reportNameSave()" ng-disabled="reportNameForm.$invalid" class="btn btn-primary submit-btn pull-right" translate>Save</button>\n        <button type="button" class="btn pull-right" data-dismiss="modal" translate>Cancel</button>\n    </div>\n</nd-modal>\n');
$templateCache.put('partials/report-edit/report-edit.report-settings-modal.component.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>\n    <h4 translate>Report settings</h4>\n</div>\n\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group" ng-if="!vm.isForDash">\n            <label class="col-sm-3 control-label" translate>Theme</label>\n            <div class="col-sm-9">\n                <app-theme-select theme="vm.settings.theme" on-change="vm.settings.theme = theme"></app-theme-select>\n            </div>\n        </div>\n\n        <div class="form-group" ng-if="[\'chart-pie\', \'chart-donut\'].includes(vm.report.reportType)">\n            <label class="col-sm-3 control-label" translate>Report type</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.reportType" name="report-settings-modal-report-type" value="chart-donut">\n                        <img src="images/donut.png">\n                        <span translate>Donut</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.reportType" name="report-settings-modal-report-type" value="chart-pie">\n                        <img src="images/pie.png">\n                        <span translate>Pie</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="[\'chart-line\', \'chart-pie\', \'chart-donut\'].indexOf(vm.report.reportType) >= 0">\n            <label class="col-sm-3 control-label" translate>Legend position</label>\n            <div class="col-sm-9">\n                <select class="form-control" ng-model="vm.settings.legendPosition">\n                    <option value="top" translate>top</option>\n                    <option value="right" translate>right</option>\n                    <option value="bottom" translate>bottom</option>\n                    <option value="none" translate>none</option>\n                </select>\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="vm.report.reportType === \'gauge\'">\n            <label class="col-sm-3 control-label" translate>Gauge max value</label>\n            <div class="col-sm-9">\n                <input class="form-control" ng-model="vm.settings.maxValue" type="number">\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="vm.report.reportType.startsWith(\'chart\')">\n            <label class="col-sm-3 control-label" translate>Height</label>\n            <div class="col-sm-9">\n                <input class="form-control" ng-model="vm.settings.height" type="number">\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="vm.report.reportType ===\'pyramid\'">\n            <label class="col-sm-3 control-label" translate>Limits</label>\n            <div class="col-sm-9">\n                <input class="form-control" ng-model="vm.settings.range" type="text">\n                <span class="help-block" translate>List your limits separated by a slash symbol <br>(Example : 20/30/40/50/60)</span> \n            </div>\n           \n        </div>\n    </form>\n</div>\n\n<div class="modal-footer">\n    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button ng-click="vm.close({ $value: vm.settings });" class="btn btn-primary" translate>Save settings</button>\n</div>\n');}]);})();