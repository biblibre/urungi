(function(){'use strict';angular.module('app.templates', []).run(['$templateCache', function($templateCache) {$templateCache.put('partials/core/delete-modal.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true">&times;</button>\n    <h3 class="modal-title">{{ vm.title }}</h3>\n</div>\n<div class="modal-body">\n    <form ng-submit="vm.onDelete()">\n        <div class="form-group">\n            <label translate>Please type DELETE to confirm</label>\n            <input type="text" class="form-control" ng-model="vm.deleteString" ng-required="true">\n            <span ng-show="vm.deleteString !== \'DELETE\'" class="help-inline" translate>This field is required</span>\n        </div>\n        <div class="alert alert-danger" role="alert" ng-if="vm.errorMessage">{{ vm.errorMessage }}</div>\n    </form>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button ng-click="vm.onDelete();" ng-disabled="vm.deleteString !== \'DELETE\'" class="btn btn-danger" translate>Delete</button>\n</div>\n');
$templateCache.put('partials/core/duplicate-modal.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true">&times;</button>\n    <h3 translate>Duplicate \'{{vm.resolve.name}}\' ?</h3>\n</div>\n<div class="modal-body">\n    <div class="form-group">\n        <label translate for="duplicate-modal-new-name">Choose a new name for the copy :</label>\n        <input id="duplicate-modal-new-name" type="text" class="form-control" ng-model="vm.newName" ng-required="true">\n    </div>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button ng-click="vm.onDuplicate();" class="btn btn-info" translate>Duplicate</button>\n</div>\n');
$templateCache.put('partials/core/language-select.component.html','<div ui-select ng-model="vm.currentLanguage" on-select="vm.languageChanged($item)" search-enabled="false">\n    <div ui-select-match>\n        <div ng-bind-html="$select.selected.label"></div>\n    </div>\n    <div ui-select-choices repeat="language in vm.availableLanguages" >\n        <div ng-bind-html="language.label"></div>\n    </div>\n</div>\n');
$templateCache.put('partials/core/pager.html','<div ng-if="vm.totalPages > 1">\n    <ul class="pagination">\n        <li ng-class="{disabled:vm.currentPage === 1}">\n            <a ng-click="vm.goToPage(1)" translate>First</a>\n        </li>\n        <li ng-class="{disabled:vm.currentPage === 1}">\n            <a ng-click="vm.goToPage(vm.currentPage - 1)" translate>Previous</a>\n        </li>\n        <li ng-repeat="page in vm.pages" ng-class="{active:vm.currentPage === page}">\n            <a ng-click="vm.goToPage(page)">{{page}}</a>\n        </li>\n        <li ng-class="{disabled:vm.currentPage === vm.totalPages}">\n            <a ng-click="vm.goToPage(vm.currentPage + 1)" translate>Next</a>\n        </li>\n        <li ng-class="{disabled:vm.currentPage === vm.totalPages}">\n            <a ng-click="vm.goToPage(vm.totalPages)" translate>Last</a>\n        </li>\n    </ul>\n</div>\n');
$templateCache.put('partials/core/pdf-export-settings-modal.component.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true">&times;</button>\n    <h4 translate>Settings for PDF export</h4>\n</div>\n\n<div class="modal-body">\n    <form>\n        <div class="form-group">\n            <div class="checkbox">\n                <label>\n                    <input type="checkbox" ng-model="vm.settings.displayHeaderFooter">\n                    <span translate>Add header and footer</span>\n                </label>\n            </div>\n        </div>\n\n        <div class="form-group" ng-if="vm.settings.displayHeaderFooter">\n            <label translate>Header template</label>\n            <textarea rows="3" class="form-control code" ng-model="vm.settings.headerTemplate"></textarea>\n            <div class="help-block" translate>\n                HTML template for the print header. The default is to show the\n                date on the right.\n            </div>\n\n            <label translate>Footer template</label>\n            <textarea rows="3" class="form-control code" ng-model="vm.settings.footerTemplate"></textarea>\n            <div class="help-block" translate>\n                HTML template for the print footer. The default is to show the\n                page number and the total number of pages on the right.\n            </div>\n\n            <div class="help-block">\n                <span translate>\n                    Header and footer templates should be valid HTML markup\n                    with following classes used to inject printing values into\n                    them:\n                </span>\n                <ul>\n                    <li><code>date</code> <span translate>formatted print date</span></li>\n                    <li><code>title</code> <span translate>document title</span></li>\n                    <li><code>url</code> <span translate>document location</span></li>\n                    <li><code>pageNumber</code> <span translate>current page number</span></li>\n                    <li><code>totalPages</code> <span translate>total pages in the document</span></li>\n                </ul>\n            </div>\n        </div>\n    </form>\n</div>\n\n<div class="modal-footer">\n    <button type="button" class="btn" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button type="button" ng-click="vm.submit()" class="btn btn-default" translate>Confirm</button>\n</div>\n');
$templateCache.put('partials/core/share-modal.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true">&times;</button>\n    <h4 translate>Share</h4>\n</div>\n\n<div class="modal-body">\n    <div ng-if="vm.isAdmin" class="row">\n        <span class="tree-node tree-node-content tree-node-folder" translate>root folder</span>\n        <button ng-if="vm.item.parentFolder != \'root\' || vm.item.isShared == false" class="btn btn-success btn-xs" ng-click="vm.selectThisFolder(\'root\')" translate>select</button>\n        <span class="badge badge-black" ng-if="vm.item.parentFolder == \'root\' && vm.item.isShared == true" translate>selected</span>\n    </div>\n\n    <div ui-tree data-nodrop-enabled id="tree-root" >\n        <ol ui-tree-nodes data-nodrop-enabled ng-model="vm.userObjects">\n            <li ng-if="((node.grants.executeReports == true || node.grants.executeDashboards == true) && node.nodeType != \'report\' && node.nodeType != \'dashboard\' && (node.grants.shareReports == true || vm.isAdmin))  " ng-repeat="node in vm.userObjects" ui-tree-node ng-include="\'publicFolders_renderer.html\'"></li>\n        </ol>\n    </div>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn" ng-click="vm.dismiss()" translate>Cancel</button>\n</div>\n\n\n<script type="text/ng-template" id="publicFolders_renderer.html">\n    <div  data-nodrag ui-tree-handle data-nodrop-enabled class="tree-node tree-node-content tree-node-folder" ng-if="((node.grants.executeReports == true || node.grants.executeDashboards == true) && node.nodeType != \'report\' && node.nodeType != \'dashboard\')  "> <!--&& node.nodes.length > 0 -->\n        <span class="fa" ng-class="{\'fa-folder\': collapsed,\'fa-folder-open-o\': !collapsed}" ng-click="toggle(this)"></span>\n        <span data-nodrag ng-click="toggle(this)" style="padding-left: 5px;margin-right: 5px;">{{node.title}}</span>\n        <button ng-if="vm.item.parentFolder != node.id || vm.item.isShared == false" class="btn btn-success btn-xs" ng-click="vm.selectThisFolder(node.id)" translate>select</button>\n        <span class="badge badge-black" ng-if="vm.item.parentFolder == node.id && vm.item.isShared == true" translate>selected</span>\n    </div>\n\n    <ol ng-if="node.nodes" data-nodrag ui-tree-nodes data-nodrop-enabled ng-model="node.nodes" ng-class="{hidden: collapsed}">\n        <li ng-if="((node.grants.executeReports == true || node.grants.executeDashboards == true) && node.nodeType != \'report\' && node.nodeType != \'dashboard\' && (node.grants.shareReports == true || vm.isAdmin))"    data-nodrag ng-repeat="node in node.nodes" ui-tree-node ng-include="\'publicFolders_renderer.html\'">\n        </li>\n    </ol>\n</script>\n');
$templateCache.put('partials/core/share-popover.html','<h4 translate>Everyone</h4>\n<p class="help-block" translate>Anyone who has the link will be able to see it</p>\n\n<button ng-if="!vm.item.isPublic" ng-click="vm.publish()" type="button" class="btn btn-primary btn-sm" translate>Publish</button>\n<button ng-if="vm.item.isPublic" ng-click="vm.unpublish()" type="button" class="btn btn-danger btn-sm" translate>Unpublish</button>\n\n<div class="form-group" ng-if="vm.item.isPublic">\n  <label translate>Public URL</label>\n\n  <div class="input-group">\n    <input id="copy-link-{{ vm.item._id }}" class="form-control" type="text" ng-value="vm.getCopyLink()">\n    <span class="input-group-btn">\n        <button type="button" class="btn btn-default" ngclipboard ngclipboard-success="vm.onCopySuccess(e)" data-clipboard-target="#copy-link-{{ vm.item._id }}">\n            <i class="fa fa-clipboard"></i>\n        </button>\n    </span>\n  </div>\n</div>\n\n<h4 translate>Authenticated users</h4>\n\n<p class="help-block" translate>Authenticated users will be able to see it in the shared space</p>\n\n<button ng-if="!vm.item.isShared" ng-click="vm.openShareModal()" type="button" class="btn btn-primary btn-sm" translate>Put in shared space</button>\n\n<div class="btn-group" ng-if="vm.item.isShared">\n    <button type="button" class="btn btn-danger btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n        <span translate>Remove from shared space</span>\n        <span class="caret"></span>\n    </button>\n\n    <ul class="dropdown-menu">\n        <li><a href="" ng-click="vm.unshare()" translate>Remove from shared space</a></li>\n        <li><a href="" ng-click="vm.openShareModal()" translate>Move to another folder</a></li>\n    </ul>\n</div>\n');
$templateCache.put('partials/core/table-column-sort.component.html','<span class="sort-button" ng-class="{ \'active\' : vm.sortDir }" ng-click="vm.onSortClick()">\n    <i ng-class="vm.sortClass()"></i>\n</span>\n');
$templateCache.put('partials/dashboards/dashboard-image-modal.component.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true">&times;</button>\n    <h3 class="modal-title" translate>Select an image</h3>\n</div>\n\n<div class="modal-body">\n    <uib-tabset class="nav-tabs-justified">\n        <uib-tab heading="{{ \'My Images\' | translate }}">\n            <ul id="file-list" class="files-modal-list">\n                <li ng-repeat="file in vm.files">\n                    <a class="hand-cursor file-selection" ng-hide="file.loading" ng-click="vm.onFileSelected(file)">\n                        <img alt="{{ file.description }}" uib-tooltip="{{ file.name }}" ng-src="{{ file.url }}" />\n                    </a>\n                    <a class="hand-cursor file-selection" ng-show="file.loading">\n                        <img src="images/loader.gif" />\n                    </a>\n                </li>\n            </ul>\n\n            <div class="btn btn-default" ngf-select="vm.upload($file)" translate>Choose image to upload</div>\n        </uib-tab>\n\n        <uib-tab heading="{{ \'Public Images\' | translate }}">\n            <ul class="files-modal-list">\n                <li ng-repeat="file in vm.catalogImages">\n                    <a class="hand-cursor file-selection" ng-click="vm.onFileSelected(file)">\n                        <img ng-src="{{ file.url }}" />\n                    </a>\n                </li>\n            </ul>\n        </uib-tab>\n\n        <uib-tab heading="{{ \'Icon set\' | translate }}">\n            <ul class="files-modal-list">\n                <li ng-repeat="file in vm.catalogIcons">\n                    <a class="hand-cursor file-selection" ng-click="vm.onFileSelected(file)">\n                        <img ng-src="{{ file.url }}" />\n                    </a>\n                </li>\n            </ul>\n        </uib-tab>\n\n        <uib-tab heading="{{ \'Image URL\' | translate }}">\n            <div class="form-group">\n                <label> URL </label>\n                <input type="text" class="form-control" ng-model="vm.url" name="URL" placeholder="Image URL" size="40">\n            </div>\n            <button type="submit" class="btn btn-default" ng-click="vm.submit()"> Submit </button>\n            <img class="img-responsive" alt="Preview of image URL" ng-src="{{ vm.url }}" />\n        \n        </uib-tab>\n\n    </uib-tabset>\n</div>\n     \n');
$templateCache.put('partials/dashboards/dashboards-list-buttons.html','<div class="btn-group btn-group-sm pull-right" role="group">\n    <button class="btn btn-silver"\n        uib-tooltip="{{ \'Share\' | translate }}"\n        uib-popover-template="\'share-popover.html\'"\n        popover-title="{{ \'Share to...\' | translate }}"\n        popover-trigger="\'outsideClick\'"\n        popover-placement="left"\n        popover-append-to-body="true"\n    >\n        <i class="fa fa-share-alt"></i>\n    </button>\n\n    <a class="btn btn-silver" ng-href="dashboards/edit/{{ vm.dashboard._id }}" uib-tooltip="{{ \'Edit this dashboard\' | translate }}" tooltip-placement="bottom">\n        <i class="fa fa-pencil"></i>\n    </a>\n\n    <button class="btn btn-silver" ng-click="vm.openDuplicateModal()" uib-tooltip="{{ \'Duplicate this dashboard\' | translate}}" tooltip-placement="bottom">\n        <i class="fa fa-copy"></i>\n    </button>\n\n    <button class="btn btn-danger" ng-click="vm.openDeleteModal()" uib-tooltip="{{ \'Delete this dashboard\' | translate}}" tooltip-placement="bottom">\n        <i class="fa fa-trash-o"></i>\n    </button>\n</div>\n<script type="text/ng-template" id="share-popover.html">\n    <app-share-popover item="vm.dashboard" publish="vm.publish" unpublish="vm.unpublish" share="vm.share" unshare="vm.unshare" get-copy-link="vm.getCopyLink"></app-share-popover>\n</script>\n');
$templateCache.put('partials/dashboards/edit.html','<div ng-show="!reportInterface" id="parentIntro" class="explorer-main-container" >\n\n<div class="explorer-container">\n    <app-theme-link theme="selectedDashboard.theme"></app-theme-link>\n\n    <div class="explorer-header" ng-init="initForm()">\n\n        <div class="explorer-header-title">\n            <h3 app-editable-text="selectedDashboard.dashboardName">{{ selectedDashboard.dashboardName }}</h3>\n        </div>\n\n        <div class="explorer-header-buttons">\n            <a id="saveDashboardBtn" data-ng-click="dashboardName()" class="btn btn-success" style="margin-left: 5px;" uib-tooltip="{{\'Click here to save the dashboard changes\' | translate}}" tooltip-placement="bottom" translate>Save</a>\n\n            <a ng-click="goBack();" class="btn btn-default" uib-tooltip="{{\'Click here to cancel and backtrack\' | translate}}" tooltip-placement="bottom" translate>Cancel</a>\n        </div>\n\n    </div>\n\n\n    <div class="explorer-body">\n\n        <div id="select-box" ng-hide="dragging" >\n\n        </div>\n\n    <section page-block ndType="page" ng-show="!queryInterface" id="designArea" class="scrollPane multiPage rendered dashboard-container" style="padding: 10px;" app-drop-target=".Block500, #designArea" drop-accept="text/html" on-drop="vm.onDrop($event, dropTarget)">\n\n    </section>\n\n    <section id="objectPanel" class="dashboard-edit-object-panel" data-num-cols="4" ng-init="tabs.selected = \'reports\'">\n        <menu>\n            <li ng-class="{\'on\': tabs.selected == \'settings\'}">\n                <a ng-click="tabs.selected = \'settings\'">\n                    <i class="fa fa-gear"></i>\n                </a>\n            </li>\n            <li id="searchTabButton" class="search hand-cursor" ng-class="{\'on\': tabs.selected == \'reports\'}">\n                <a ng-click="tabs.selected = \'reports\'">\n                    <span class="objectPanel-menu-label" translate>Reports</span>\n                    <i class="fa fa-bar-chart fa-2" aria-hidden="true" style="margin-left: 0; margin-right: 5px;"> </i>\n                </a>\n            </li>\n            <li id="layoutTabButton" class="layout hand-cursor" ng-class="{\'on\': tabs.selected == \'prompts\'}" >\n                <a ng-click="tabs.selected = \'prompts\'">\n                    <span class="objectPanel-menu-label" translate>Run time filters</span>\n                    <i class="fa fa-filter fa-2" aria-hidden="true"></i>\n                </a>\n            </li>\n            <li id="layoutTabButton" class="layout hand-cursor" ng-class="{\'on\': tabs.selected == \'layouts\'}" >\n                <a ng-click="tabs.selected = \'layouts\'">\n                    <span class="objectPanel-menu-label" translate>Layouts</span>\n                    <i class="fa fa-file-image-o fa-2" aria-hidden="true"></i>\n                </a>\n            </li>\n        </menu>\n    <section  class="content">\n\n        <section id="settingsTab" class="results infinite ng-hide" ng-show="tabs.selected == \'settings\'">\n\n            <section class="layer scrollPane">\n                <div class="layer-inner-reports">\n\n                    <form>\n                        <div class="form-group">\n                            <label translate>Theme</label>\n                            <app-theme-select theme="selectedDashboard.theme" on-change="selectedDashboard.theme = theme"></app-theme-select>\n                        </div>\n                        <div class="form-group">\n                            <label translate>Preview size</label>\n                            <input type="number" ng-model="selectedDashboardLimit.value" class="form-control">\n                            <div class="help-block" translate>This limits the number of rows fetched in order to get a preview quickly. Set to 0 to disable.</div>\n                        </div>\n                        <button ng-click="Redraw()" class="btn btn-sm btn-default">\n                          <i class="fa fa-refresh"></i>\n                          <span translate>Redraw</span>\n                        </button>\n                    </form>\n\n                    <app-inspector element="selectedElement" dashboard="selectedDashboard" on-change="onChangeElementProperties"></app-inspector>\n\n                </div>\n            </section>\n            <div class="scrollTrack vScrollTrack">\n                <div class="scrollThumb" style="height: 72px; transform: translateY(0);"></div>\n            </div>\n            <div class="scrollTrack hScrollTrack">\n                <div class="scrollThumb disabled" style="width: 354px; transform: translateX(0);"></div>\n            </div>\n        </section>\n\n        <section id="reportsTab" class="results infinite ng-hide" ng-show="tabs.selected == \'reports\'">\n            <section class="layer scrollPane">\n                <div class="layer-inner-reports">\n                    <div class="container-fluid" >\n                        <button class="btn btn-info pull-right" ng-click="newReport()" translate>New Report</button>\n                        <button class="btn btn-info pull-right" ng-click="importReport()" translate>Import Report</button>\n                    </div>\n                    <div ng-repeat="item in selectedDashboard.reports" draggable="true" app-dragstart="vm.onReportDragStart($event, item)" style="margin-bottom: 5px; margin-top: 5px; display: flex; align-items: center; border: 1px white solid; border-radius: 5px;" id="{{item.id}}" class="">\n\n                        <span style="padding: 2px; border-right: 2px white solid; margin-right: 5px; background-color: white;">\n                            <img draggable="false" ng-if="item.reportType == \'grid\'" src="images/grid.png" data-pin-nopin="true">\n                            <img draggable="false" ng-if="item.reportType == \'chart-line\'" src="images/chart_line.png" data-pin-nopin="true">\n                            <img draggable="false" ng-if="item.reportType == \'chart-donut\' || item.reportType == \'chart-pie\'" src="images/chart_donut.png" data-pin-nopin="true">\n                            <img draggable="false" ng-if="item.reportType == \'indicator\'" src="images/indicator.png" data-pin-nopin="true">\n                            <img draggable="false" ng-if="item.reportType == \'gauge\'" src="images/gauge.png" data-pin-nopin="true">\n                        </span>\n                        <div style="width: 100%;">\n                            <span app-editable-text="item.reportName" style="color: white;">{{ item.reportName }}</span>\n                            <br/>\n                            <a id="reportListItemDeleteBtn" href="" class="pull-right  list-button btn-delete" ng-click="deleteReport(item.id,item.reportName)"  uib-tooltip="{{ \'Click here to delete this report\' | translate }}" tooltip-placement="bottom">\n                                <i class="fa fa-trash-o "  ></i>\n                            </a>\n                            <a id="reportListItemEditBtn" class="pull-right  list-button" ng-click="loadReport(item)"  uib-tooltip="{{ \'Click here to edit this report\' | translate }}" tooltip-placement="bottom">\n                                <i class="fa fa-pencil" ></i>\n                            </a>\n                            </div>\n                    </div>\n                </div>\n\n            </section>\n            <div class="scrollTrack vScrollTrack">\n                <div class="scrollThumb" style="height: 72px; transform: translateY(0);"></div>\n            </div>\n            <div class="scrollTrack hScrollTrack">\n                <div class="scrollThumb disabled" style="width: 354px; transform: translateX(0);"></div>\n            </div>\n        </section>\n        <section id="promptsTab" class="results infinite twoCol" ng-show="tabs.selected == \'prompts\'">\n            <section class="layoutsTabContainer tabContainer">\n                <section class="tab">\n                    <section class="layer scrollPane">\n                        <div class="layer-inner-reports">\n                            <div ng-repeat="prompt in getPrompts()" draggable="true" app-dragstart="vm.onFilterPromptDragStart($event, prompt)"\n                            style="margin-bottom: 5px; margin-top: 5px; display: flex; align-items: center; border: 1px white solid; border-radius: 5px;"\n                            id="{{item.id}}" class="dashboard-filter-prompt-item">\n                              <span>\n                                  <i class="fa fa-filter"></i>\n                                    <i class="fa fa-question"></i>\n                              </span>\n                                {{ getColumnDescription(prompt) }}\n                            </div>\n                        </div>\n\n                    </section>\n                    <div class="scrollTrack vScrollTrack">\n                        <div class="scrollThumb" style="height: 15px; transform: translateY(0);"></div>\n                    </div>\n                    <div class="scrollTrack hScrollTrack">\n                        <div class="scrollThumb disabled" style="width: 354px; transform: translateX(0);"></div>\n                    </div>\n                </section>\n            </section>\n        </section>\n        <section id="resultsLayout" class="results infinite twoCol" ng-show="tabs.selected == \'layouts\'">\n        <section class="layoutsTabContainer tabContainer">\n            <section class="tab">\n                <section class="layer scrollPane">\n                    <div class="layer-inner">\n                        <div class="searchLoaderHolder"></div>\n                        <div class="searchGroup hasContent">\n                            <div class="row gallery infoPanelGallery templateGallery laidOut" style="padding-left: 25px;">\n\n                                <div  style="width: 200px;">\n                                    <div class="col-md-6" style="padding: 0; padding-right: 1px;">\n                                        <div id="element-btn" draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'paragraph\')">\n                                            <i class="fa fa-paragraph"></i>\n                                        </div>\n                                    </div>\n                                    <div class="col-md-6" style="padding: 0; padding-left: 1px;">\n                                        <div id="element-btn" draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'heading\')">\n                                            <i class="fa fa-header"></i>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div  style="width: 200px;">\n                                    <div class="col-md-6" style="padding: 0; padding-right: 1px;">\n                                        <div id="element-btn" draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'image\')">\n                                            <i class="fa fa-picture-o"></i>\n\n                                        </div>\n                                    </div>\n                                    <div class="col-md-6" style="padding: 0; padding-left: 1px;">\n                                        <div id="element-btn" draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'video\')">\n                                            <i class="fa fa-play"></i>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div data-color="jumbotron" effect-allowed="copy"  style="margin-bottom: 5px;" draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'jumbotron\')">\n                                    <img draggable="false" src="images/layout_jumbotron.png" width="200" height="50" style="height: 50px; width: 200px;">\n                                </div>\n\n                                <div draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'4colscta\')" style="margin-bottom: 5px;">\n                                    <img draggable="false" src="images/layout_4cols_cta.png" width="200" style="height: 50px; width: 200px;">\n                                </div>\n\n                                <div draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'3colscta\')" style="margin-bottom: 5px;">\n                                    <img draggable="false" src="images/layout_3cols_cta.png" width="200" style="height: 50px; width: 200px;">\n                                </div>\n\n                                <div draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'2colscta\')" style="margin-bottom: 5px;">\n                                    <img draggable="false" src="images/layout_2cols_cta.png" width="200" style="height: 50px; width: 200px;">\n                                </div>\n\n                                <div draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'imageTextLarge\')" style="margin-bottom: 5px;">\n\n                                    <img draggable="false" src="images/layout_block_image_text_large.png" width="200" height="50" style="height: 50px; width: 200px;">\n                                </div>\n\n                                <div draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'textImageLarge\')" style="margin-bottom: 5px;">\n                                    <img draggable="false" src="images/layout_block_text_image_large.png" width="200" height="50" style="height: 50px; width: 200px;">\n                                </div>\n\n                                <div draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'divider\')" uib-tooltip="{{\'This divider defines a page-break for printing\'| translate}}" style="margin-bottom: 5px;">\n                                    <img draggable="false" src="images/layout_featurete_divider.png" width="200" height="15" style="height: 15px; width: 200px;">\n                                </div>\n\n                                <div draggable="true" app-dragstart="vm.onLayoutDragStart($event, \'pageHeader\')" style="margin-bottom: 5px;">\n                                    <img draggable="false" src="images/layout-page-header.png" width="200" height="50" style="height: 50px; width: 200px;">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </section>\n        </section>\n    </section>\n\n    </section>\n\n        <div class="arrow-right" id="color-picker-arrow"></div>\n        <div class="arrow-right" id="background-arrow"></div>\n\n    </section>\n</div>\n    </div>\n</div>\n\n<div ng-show="reportInterface" id="reportModal" ng-controller="reportCtrl" ng-include src="reportModal"></div>\n\n<nd-modal id="dashboardNameModal">\n    <div class="modal-body">\n        <form class="simple-form" role="form" name="dashboardForm">\n            <div class="form-group">\n                <label translate>Dashboard Name</label>\n                <input name="dashboardName" type="text" class="form-control" ng-model="selectedDashboard.dashboardName" ng-required="true" required >\n                <span ng-show="dashboardForm.dashboardName.$invalid" class="help-inline" translate>The dashboard name is required</span>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button ng-click="dashboardNameSave()" ng-disabled="reportForm.$invalid" class="btn btn-primary submit-btn pull-right" translate>Save</button>\n        <button type="button" class="btn pull-right" data-dismiss="modal" translate>Cancel</button>\n    </div>\n</nd-modal>\n\n<div id="previewContainer" ng-show="false"></div>\n');
$templateCache.put('partials/dashboards/list.html','<div id="parentIntro" ng-intro-method="vm.showIntro" ng-intro-options="vm.introOptions" class="container-fluid root-container">\n    <div class="row">\n        <div class="main col-md-3">\n            <app-sidebar show-intro="vm.showIntro()"></app-sidebar>\n        </div>\n\n        <div class="main col-md-9">\n            <div class="page-header">\n                <span class="h3" translate>Dashboards</span>\n\n                <a id="newDashboardButton" ng-if="vm.creationAuthorised" href="dashboards/new/true" class="btn btn-success pull-right" uib-tooltip="{{ \'Click here to create a new dashboard\' | translate }}" tooltip-placement="bottom" translate>Create new dashboard</a>\n                <a class="btn btn-info pull-right" ng-click="vm.showIntro()" style="margin-right: 3px;" uib-tooltip="{{ \'Follow the guided tour for dashboards\' | translate }}" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a>\n            </div>\n\n            <div class="row">\n                <div class="col-md-12">\n                    <table class="table table-striped">\n                        <colgroup>\n                            <col style="width: 40%;">\n                            <col style="width: 20%;">\n                            <col style="width: 20%;">\n                            <col style="width: 20%;">\n                        </colgroup>\n                        <thead>\n                            <tr>\n                                <th>\n                                    <span translate>Name</span>\n                                    <app-table-column-sort on-sort="vm.onSort(\'dashboardName\', $dir)" sort-dir="vm.sortDir[\'dashboardName\']"></app-table-column-sort>\n                                </th>\n                                <th>\n                                    <span translate>Author</span>\n                                    <app-table-column-sort on-sort="vm.onSort(\'author\', $dir)" sort-dir="vm.sortDir[\'author\']"></app-table-column-sort>\n                                </th>\n                                <th>\n                                    <span translate>Created on</span>\n                                    <app-table-column-sort on-sort="vm.onSort(\'createdOn\', $dir)" sort-dir="vm.sortDir[\'createdOn\']"></app-table-column-sort>\n                                </th>\n                                <th></th>\n                            </tr>\n                            <tr>\n                                <td>\n                                    <app-table-column-filter on-filter="vm.onFilter(\'dashboardName\', $value)"></app-table-column-filter>\n                                </td>\n                                <td>\n                                    <app-table-column-filter on-filter="vm.onFilter(\'author\', $value)"></app-table-column-filter>\n                                </td>\n                                <td></td>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr ng-repeat="dashboard in vm.dashboards">\n                                <td>\n                                    <a ng-href="dashboards/view/{{ dashboard._id }}">{{ dashboard.dashboardName }}</a>\n                                    <div class="badge-list">\n                                        <span ng-if="dashboard.isPublic" class="badge" translate>public</span>\n                                        <span ng-if="dashboard.isShared" class="badge" translate>shared</span>\n                                    </div>\n                                </td>\n                                <td>{{ dashboard.author }}</td>\n                                <td>{{ dashboard.createdOn | date }}</td>\n                                <td><app-dashboards-list-buttons dashboard="dashboard" on-delete="vm.refresh()" on-duplicate="vm.refresh()"></app-dashboards-list-buttons></td>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                    <app-pager current-page="vm.currentPage" total-pages="vm.pages" on-page-change="vm.goToPage(page)"></app-pager>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/dashboards/view.html','<app-theme-link theme="vm.dashboard.theme"></app-theme-link>\n\n<div class="page-header hidden-print">\n    <span class="h3" ng-bind="vm.dashboard.dashboardName"></span>\n\n    <div class="pull-right">\n        <div class="btn-group">\n            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                <span translate>Export</span> <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li ng-class="{ disabled: !vm.exportAsPNGAvailable }">\n                    <a href="" ng-click="vm.exportAsPNGAvailable && vm.downloadAsPNG()">As PNG</a>\n                </li>\n                <li ng-class="{ disabled: !vm.exportAsPDFAvailable }">\n                    <a href="" ng-click="vm.exportAsPDFAvailable && vm.downloadAsPDF()">As PDF</a>\n                </li>\n            </ul>\n        </div>\n        <a ng-click="goBack();" class="btn btn-default" uib-tooltip="{{ \'Click here to cancel and backtrack\' | translate }}" tooltip-placement="bottom" translate>Cancel</a>\n        <a ng-if="vm.dashboard && ((vm.dashboard.owner == user._id) || vm.isAdmin)" ng-href="dashboards/edit/{{vm.dashboard._id}}" class="btn btn-success" style="margin-right: 5px;" translate>Edit Dashboard</a>\n    </div>\n</div>\n\n<div class="container-fluid branded-border-panel"></div>\n\n<div class="container-fluid dashboard-container" id="pageViewer" style="top: 42px; bottom: 0; position: absolute; overflow-y: auto; width: 100%; padding-top: 10px;"></div>\n');
$templateCache.put('partials/data-sources/edit.html','<div class="container-fluid root-container">\n    <div class="row">\n        <div class="col-md-3">\n            <app-sidebar></app-sidebar>\n        </div>\n\n        <div class="col-md-9">\n            <div class="page-header">\n                <span class="h3" translate>Edit datasource</span>\n                <a ng-click="vm.save()" class="btn btn-success pull-right" style="margin-left: 5px; margin-right: 5px;" translate>Save Datasource</a>\n                <a href="data-sources" class="btn btn-default  pull-right" translate>Cancel</a>\n            </div>\n\n            <div class="form-group">\n                <label class="control-label" translate>Connection type</label>\n                <select ng-model="vm._dataSource.type" placeholder="{{ \'Select a datasource type...\' | translate }}" id="type" class="form-control">\n                    <option label="MySQL" value="MySQL">MySQL</option>\n                    <option label="PostgreSql" value="POSTGRE">PostgreSQL</option>\n                    <option label="MSSQL" value="MSSQL">MSSQL</option>\n                    <option label="Oracle" value="ORACLE">Oracle</option>\n                </select>\n            </div>\n\n            <div class="form-group">\n                <label class="control-label" for="name" translate>Name</label>\n                <input class="form-control" name="name" id="name" ng-model="vm._dataSource.name" data-validate="required" placeholder="{{ \'Insert here the name for this connection\' | translate }}" novalidate="novalidate" required="true" aria-describedby="name-error" aria-invalid="false"><span id="name-error" class="validate-has-error" style="display: none;"></span>\n            </div>\n\n            <div class="form-group">\n                <label class="control-label" for="host" translate>Host</label>\n                <input class="form-control" name="host" id="host" ng-model="vm._dataSource.connection.host" data-validate="required" placeholder="{{ \'Insert here your Host address or IP\' | translate }}" novalidate="novalidate" required="true" aria-describedby="host-error" aria-invalid="false"><span id="host-error" class="validate-has-error" style="display: none;"></span>\n            </div>\n\n            <div class="form-group">\n                <label class="control-label" for="port" translate>Port</label>\n                <input class="form-control" name="port" id="port" ng-model="vm._dataSource.connection.port" placeholder="{{ \'Insert here the port to access the SQL instance\' | translate }}">\n            </div>\n\n            <div class="form-group">\n                <label class="control-label" for="database" translate>Database</label>\n                <input class="form-control" name="database" id="database" ng-model="vm._dataSource.connection.database" data-validate="required" placeholder="{{ \'Set here the name of the SQL Database to connect\' | translate }}" novalidate="novalidate" aria-required="true" aria-describedby="database-error" aria-invalid="false"><span id="database-error" class="validate-has-error" style="display: none;"></span>\n            </div>\n\n            <div class="form-group">\n                <label class="control-label" for="userName" translate>User name</label>\n                <input class="form-control" name="userName" id="userName" ng-model="vm._dataSource.connection.userName" data-validate="required" placeholder="{{ \'Set here the username to access the database\' | translate }}" novalidate="novalidate" aria-required="true" aria-describedby="username-error" aria-invalid="false"><span id="username-error" class="validate-has-error" style="display: none;"></span>\n            </div>\n\n            <div class="form-group">\n                <label class="control-label" for="password" translate>Password</label>\n                <input class="form-control" type="password" name="password" id="password" ng-model="vm._dataSource.connection.password" data-validate="required" placeholder="{{ \'Set here the username password to access the database\' | translate }}" novalidate="novalidate" aria-required="true" aria-describedby="password-error" aria-invalid="false"><span id="password-error" class="validate-has-error" style="display: none;"></span>\n            </div>\n\n            <div class="form-group" ng-if="vm._dataSource.type === \'POSTGRE\'">\n                <label class="control-label" for="search_path" translate>Search path</label>\n                <input class="form-control" type="text" name="search_path" id="search_path" ng-model="vm._dataSource.connection.search_path" placeholder="{{ \'PostgreSQL Schema Search Path\' | translate }}">\n            </div>\n\n            <div ng-if="vm.testConnection.message" class="alert" ng-class="{\'alert-success\': vm.testConnection.result == 1,\'alert-danger\': vm.testConnection.result != 1}" >\n                {{vm.testConnection.message}}\n            </div>\n\n            <a ng-click="vm.doTestConnection()" ng-disabled="!vm.enableTestConnection()" class="btn btn-default" translate>Test Connection</a>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/data-sources/list.html','<div id="parentIntro" ng-intro-method="vm.showIntro"  ng-intro-options="vm.IntroOptions" class="container-fluid root-container">\n    <div class="row">\n        <div class="main col-md-3">\n            <app-sidebar show-intro="vm.showIntro()"></app-sidebar>\n        </div>\n\n        <div class="main col-md-9">\n            <div class="page-header">\n                <span class="h3" translate>Data sources</span>\n\n                <a id="newDataSourceBtn" href="data-sources/new" class="btn btn-success pull-right" uib-tooltip="{{\'Click here to create a new data source\' | translate}}" tooltip-placement="bottom" translate>New Data Source</a>\n                <a class="btn btn-info pull-right" ng-click="vm.showIntro()" style="margin-right: 3px;" uib-tooltip="{{ \'Click here to conduct the guided tour for data sources\' | translate}}" tooltip-placement="bottom"><i class="fa fa-map"></i></a>\n            </div>\n\n            <div id="datasourceList" class="list-group">\n                <a id="datasourceListItem" ng-href="data-sources/{{dts._id}}" class="list-group-item" ng-repeat="dts in vm.items">\n                    <span id="datasourceListItemType" class="pull-right branded-label" >{{dts.type}}</span>\n                    <h4 id="datasourceListItemName" class="list-group-item-heading" uib-tooltip="{{ \'Click here to see or set data source details\' | translate}}">{{dts.name}} </h4>\n                    <p id="datasourceListItemDetails" class="list-group-item-text">\n\n                        <label class="small" style="margin-right: 5px;" translate>host: </label>{{dts.connection.host}}\n                        <label class="small" style="margin-right: 5px;" translate>port: </label>{{dts.connection.port}}\n                        <label class="small" style="margin-right: 5px;" translate>database: </label>{{dts.connection.database}}\n                    </p>\n                </a>\n            </div>\n\n            <app-pager current-page="vm.page" total-pages="vm.pages" on-page-change="vm.goToPage(page)"></app-pager>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/directives/modal.html','<!-- Modal -->\n<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <ng-transclude></ng-transclude>\n        </div><!-- /.modal-content -->\n    </div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n');
$templateCache.put('partials/files/gallery.html','<div class="files-gallery">\n    <button id="close-gallery-btn" type="button" class="close">\xD7</button>\n\n    <form class="dropzone" id="dropzone" style="margin-top: 30px; min-height: 0; padding: 80px;"></form>\n\n    <p id="extensionMSG" style="color: red;"></p>\n\n    <ul id="file-list" class="ace-thumbnails files-modal-list">\n\n    </ul>\n\n    <div id="dropzone-item" class="hidden">\n        <li class="dz-item">\n            <a class="hand-cursor file-selection">\n                <img src="images/loader.gif" class="dz-loading" />\n\n                <span class="label label-danger dz-label" style="display: none;" translate>error</span>\n                <span class="label label-success dz-label" style="display: none;" translate>success</span>\n\n                <img class="dz-image" data-dz-thumbnail />\n            </a>\n        </li>\n    </div>\n</div>\n\n');
$templateCache.put('partials/home/about.html','<div class="container-fluid root-container">\n    <div class="row">\n        <div class="col-md-3">\n            <app-sidebar></app-sidebar>\n        </div>\n\n        <div class="main col-md-9 about-page">\n            <div class="page-header">\n                <h3 translate>About</h3>\n            </div>\n\n            <p ng-if="vm.version">\n                <span translate>Urungi version: {{ vm.version }}</span>\n                <span ng-if="vm.gitVersion">(git: {{ vm.gitVersion }})</span>\n            </p>\n\n            <h4 translate>What is Urungi</h4>\n            <p translate>\n                Urungi is a self-service dashboard and reporting tool.\n                It has been written with the following ideas in mind:\n            </p>\n            <ul>\n                <li translate>easy to use for end-users</li>\n                <li translate>easy to use for reports creators</li>\n                <li translate>powerful for power-users</li>\n            </ul>\n\n            <p translate>Urungi is a fork of <a href="http://widestage.com">widestage</a></p>\n\n            <h4 translate>What does Urungi mean ?</h4>\n            <p translate>Urungi is a Maori word meaning rudder, steering paddle, driver, navigator</p>\n\n            <a href="http://maoridictionary.co.nz/word/8920">http://maoridictionary.co.nz/word/8920</a>\n\n            <h4 translate>License</h4>\n            <p translate>Urungi is Open Source, feel free to join us on github, submit issues and pull requests: <a href="https://github.com/biblibre/urungi">https://github.com/biblibre/urungi</a></p>\n\n            <p translate>Urungi is licensed under <a href="https://opensource.org/licenses/GPL-3.0">GPL 3.0</a></p>\n\n            <h4 translate>Authors</h4>\n            <ul>\n                <li>Hermes Romero (<a href="https://github.com/beevou">https://github.com/beevou</a>) <span translate>first version of widestage</span></li>\n                <li>Alexander Chumakov (<a href="https://github.com/delfer">https://github.com/delfer</a>)</li>\n                <li>BibLibre staff:\n                    <ul>\n                        <li>Paul Poulain (<a href="https://github.com/PaulPoulain">https://github.com/PaulPoulain</a>), Product Owner</li>\n                        <li>Julian Maurice (<a href="https://github.com/jajm">https://github.com/jajm</a>)</li>\n                        <li>Claire Hernandez (<a href="https://github.com/clrh">https://github.com/clrh</a>)</li>\n                        <li>Lo\xEFc Vanbesien (<a href="https://github.com/lvanbesien">https://github.com/lvanbesien</a>), <span translate>internship in summer 2018</span></li>\n                        <li>Anatole Romon (<a href="https://github.com/akka-vodol">https://github.com/akka-vodol</a>), <span translate>internship in summer 2018</span></li>\n                    </ul>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/home/index.html','<div id="parentIntro" ng-intro-method="showIntro"  ng-intro-options="IntroOptions" class="container-fluid root-container">\n    <div class="row">\n        <div id="mainMenu" class="main col-md-3">\n            <app-sidebar show-intro="showIntro()"></app-sidebar>\n        </div>\n\n        <div class="main col-md-9" ng-include="\'partials/home/main.html\'"></div>\n    </div>\n</div>\n\n\n');
$templateCache.put('partials/home/main.html','<div class="page-header">\n    <span class="h3" translate>Home</span>\n    <app-language-select class="pull-right"></app-language-select>\n</div>\n\n<div ng-if="!userContextHelp.includes(\'homeIndex\')" class="alert alert-info">\n    <h3 translate>Getting started with Urungi?</h3>\n    <span translate>Take our guided tour to familiarize yourself...</span>\n    <br/>\n    <br/>\n    <br/>\n    <span style="color: #000;"> <span translate>Do not show this block again</span> <input type="checkbox" ng-click="setUserContextHelpViewed(\'homeIndex\')"></span>\n    <a class="btn btn-white pull-right" ng-click="showIntro()" translate>Start guided tour</a>\n</div>\n\n<div class="row">\n    <div class="col-md-6">\n        <div id="sharedArea" class="panel panel-silver">\n\n            <div class="panel-heading">\n                <div class="panel-title">\n                    <span translate>Shared Area</span>\n                    <a href="" class="pull-right" ng-click="refreshHome()"><i class="fa fa-refresh"></i></a>\n                </div>\n            </div>\n\n            <div class="panel-body">\n                <div class="user-objects">\n                    <div ui-tree data-nodrop-enabled id="tree-root" >\n                        <ol ui-tree-nodes data-nodrop-enabled ng-model="userObjects">\n                            <li ng-repeat="node in userObjects" ui-tree-node ng-include="\'nodes_renderer.html\'"></li>\n                        </ol>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="col-md-6">\n        <div id="latestExecutions" class="panel panel-silver">\n            <div class="panel-heading">\n                <div class="panel-title" translate>Latest executions</div>\n            </div>\n\n            <div class="panel-body">\n                <div class="last-executions-objects">\n                    <ol>\n                        <li ng-repeat="execution in lastExecutions">\n                            <div class="last-executed-item">\n                                <a ng-if="execution.type == \'report\'" ng-href="reports/view/{{execution.relationedID}}"><i class="fa fa-bar-chart" style="margin-right: 2px;"></i>{{execution.relationedName}}</a>\n                                <a ng-if="execution.type == \'dashboard\'" ng-href="dashboards/view/{{execution.relationedID}}"><i class="fa fa-dashboard" style="margin-right: 2px;"></i>{{execution.relationedName}}</a>\n                                <span class="pull-right">{{ execution.lastDate | timeFromNow }}</span>\n                            </div>\n                        </li>\n                    </ol>\n                </div>\n            </div>\n        </div>\n\n        <div id="mostExecuted" class="panel panel-silver">\n            <div class="panel-heading">\n                <div class="panel-title" translate>Most executed</div>\n            </div>\n\n            <div class="panel-body">\n                <div class="most-executions-objects">\n                    <ol>\n                        <li ng-repeat="execution in mostExecutions">\n                            <div class="most-executed-item">\n                                <a ng-if="execution.type == \'report\'" ng-href="reports/view/{{execution.relationedID}}"><i class="fa fa-bar-chart" style="margin-right: 2px;"></i>{{execution.relationedName}}</a>\n                                <a ng-if="execution.type == \'dashboard\'" ng-href="dashboards/view/{{execution.relationedID}}"><i class="fa fa-dashboard" style="margin-right: 2px;"></i>{{execution.relationedName}}</a>\n\n                                <span class="badge pull-right">{{execution.count}}</span>\n                            </div>\n                        </li>\n                    </ol>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<script type="text/ng-template" id="nodes_renderer.html">\n    <div data-nodrag ui-tree-handle data-nodrop-enabled class="tree-node tree-node-content tree-node-folder" ng-if="((node.grants.executeReports == true || node.grants.executeDashboards == true) && node.nodeType != \'report\' && node.nodeType != \'dashboard\')  "> <!--&& node.nodes.length > 0 -->\n        <span class="fa" ng-class="{\'fa-folder\': collapsed,\'fa-folder-open-o\': !collapsed}" ng-click="toggle(this)"></span><span data-nodrag ng-click="toggle(this)" style="padding-left: 5px;">{{node.title}}</span>\n    </div>\n\n    <div data-nodrag class="tree-node tree-node-item" ng-if="node.nodeType == \'report\'">\n        <i class="fa fa-bar-chart"></i><a data-nodrag  href="reports/view/{{node.id}}">{{node.title}}</a>\n    </div>\n\n    <div data-nodrag class="tree-node tree-node-item" ng-if="node.nodeType == \'dashboard\'">\n        <i class="fa fa-dashboard"></i><a data-nodrag  href="dashboards/view/{{node.id}}">{{node.title}}</a>\n    </div>\n\n    <ol ng-if="node.nodes" data-nodrag ui-tree-nodes="" data-nodrop-enabled ng-model="node.nodes" ng-class="{hidden: collapsed}">\n        <li data-nodrag ng-repeat="node in node.nodes" ui-tree-node ng-include="\'nodes_renderer.html\'">\n        </li>\n    </ol>\n</script>\n');
$templateCache.put('partials/io/export.html','<div class="container-fluid root-container">\n    <div class="row">\n        <div class="main col-md-3">\n            <app-sidebar></app-sidebar>\n        </div>\n\n        <div class="main col-md-9">\n            <div class="page-header">\n                <h3 translate>Export layers, reports and dashboards</h3>\n            </div>\n\n            <div class="row">\n                <div class="col-md-12">\n                    <div class="form-group">\n                        <details class="details" open>\n                            <summary translate>Layers</summary>\n\n                            <div class="dropdownExport">\n                                <div class="checkbox" ng-repeat="layer in vm.layers">\n                                    <label>\n                                        <input type="checkbox" ng-model="layer.checked">\n                                        {{layer.name}}\n                                    </label>\n                                </div>\n                                <p class="help-block" translate>\n                                    Required layers for chosen reports and dashboards will be included automatically, there is no need to include them manually.\n                                </p>\n                            </div>\n                        </details>\n                    </div>\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="col-md-12">\n                    <div class="form-group">\n                        <details class="details" open>\n                            <summary translate>Reports</summary>\n\n                            <div class="dropdownExport">\n                                <div class="checkbox" ng-repeat="report in vm.reports">\n                                    <label>\n                                        <input type="checkbox" ng-model="report.checked">\n                                        {{report.reportName}}\n                                    </label>\n                                </div>\n                            </div>\n                        </details>\n                    </div>\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="col-md-12">\n                    <div class="form-group">\n                        <details class="details" open>\n                            <summary translate>Dashboards</summary>\n\n                            <div class="dropdownExport">\n                                <div class="checkbox" ng-repeat="dashboard in vm.dashboards">\n                                    <label>\n                                        <input type="checkbox" ng-model="dashboard.checked">\n                                        {{dashboard.dashboardName}}\n                                    </label>\n                                </div>\n                            </div>\n                        </details>\n                    </div>\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="col-sm-2">\n                    <div class="form-group">\n                        <div class="input-group">\n                            <input type="text" class="form-control" ng-model="vm.exportName">\n                            <span class="input-group-addon">.json</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="col-md-12">\n                    <button class="btn btn-success" ng-click="vm.downloadExport()" translate>Export</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/io/import.html','<div class="container-fluid root-container">\n    <div class="row">\n        <div class="col-md-3">\n            <app-sidebar></app-sidebar>\n        </div>\n\n        <div class="col-md-9">\n            <div class="page-header">\n                <h3 translate>Import layers, reports and dashboards</h3>\n            </div>\n\n            <h4 translate>Step 1 - Choose file to import</h4>\n            <div class="btn btn-default" ngf-select="vm.upload($file)" translate>Select file...</div>\n\n            <div ng-if="vm.checkingFile">\n                <i class="fa fa-spinner fa-fw fa-spin"></i>\n                <span translate>Checking file</span>\n\n                <uib-progressbar value="vm.checkProgressValue" max="vm.checkProgressMax"></uib-progressbar>\n            </div>\n\n            <p ng-if="vm.checkError" class="text-danger">\n                <span translate>Error:</span>\n                <span>{{ vm.checkError.message }}</span>\n            </p>\n\n            <div ng-if="vm.step >= 2">\n                <h4 translate>Step 2 - Confirm import</h4>\n\n                <form ng-if="vm.importBundle" name="vm.form" ng-submit="vm.doImport()" novalidate>\n                    <details ng-open="!vm.importStarted">\n                        <summary translate>Data sources</summary>\n\n                        <div class="form-group" ng-repeat="ds in vm.importBundle.datasources" ng-class="{ \'has-error\': vm.form[\'datasource-\' + ds.doc._id].$invalid }">\n                            <label class="control-label" translate>Datasource matching {{ds.doc.name}}</label>\n                            <select class="form-control" name="datasource-{{ ds.doc._id }}" ng-model="vm.datasourceMatch[ds.doc._id]" ng-options="ds as ds.name for ds in vm.localDatasources track by ds._id" required>\n                                <option value=""></option>\n                            </select>\n                            <span class="help-block" ng-if="vm.form[\'datasource-\' + ds.doc._id].$error.required" translate>This field is required</span>\n                        </div>\n                    </details>\n\n                    <details ng-open="!vm.importStarted">\n                        <summary translate>Layers</summary>\n\n                        <div class="table-responsive">\n                            <table class="table table-condensed">\n                                <thead>\n                                    <tr>\n                                        <th translate>Name</th>\n                                        <th translate>Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr ng-repeat="layer in vm.importBundle.layers" ng-class="{ warning: !layer.valid }">\n                                        <td>{{ layer.doc.name }}</td>\n                                        <td>\n                                            <div ng-if="!layer.valid">\n                                                <div class="text-warning" ng-repeat="error in layer.errors">{{ error }}</div>\n                                            </div>\n                                            <div ng-if="layer.valid">\n                                                <div ng-if="layer.exists">\n                                                    <span class="text-info" translate>Already exists. Overwrite ?</span>\n                                                    <input type="checkbox" ng-model="layer.overwrite">\n                                                </div>\n                                                <div ng-if="!layer.exists">\n                                                    <span class="text-success" translate>OK</span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </details>\n\n                    <details ng-open="!vm.importStarted">\n                        <summary translate>Reports</summary>\n\n                        <div class="table-responsive">\n                            <table class="table table-condensed">\n                                <thead>\n                                    <tr>\n                                        <th translate>Name</th>\n                                        <th translate>Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr ng-repeat="report in vm.importBundle.reports" ng-class="{ warning: !report.valid }">\n                                        <td>{{ report.doc.reportName }}</td>\n                                        <td>\n                                            <div ng-if="!report.valid">\n                                                <div class="text-warning" ng-repeat="error in errors">{{ error }}</div>\n                                            </div>\n                                            <div ng-if="report.valid">\n                                                <div ng-if="report.exists">\n                                                    <span class="text-info" translate>Already exists. Overwrite ?</span>\n                                                    <input type="checkbox" ng-model="report.overwrite">\n                                                </div>\n                                                <div ng-if="!report.exists">\n                                                    <span class="text-success" translate>OK</span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </details>\n\n                    <details ng-open="!vm.importStarted">\n                        <summary translate>Dashboards</summary>\n\n                        <div class="table-responsive">\n                            <table class="table table-condensed">\n                                <thead>\n                                    <tr>\n                                        <th translate>Name</th>\n                                        <th translate>Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    <tr ng-repeat="dashboard in vm.importBundle.dashboards" ng-class="{ warning: !dashboard.valid }">\n                                        <td>{{ dashboard.doc.dashboardName }}</td>\n                                        <td>\n                                            <div ng-if="!dashboard.valid">\n                                                <div class="text-warning" ng-repeat="error in dashboard.errors">{{ error }}</div>\n                                            </div>\n                                            <div ng-if="dashboard.valid">\n                                                <div ng-if="dashboard.exists">\n                                                    <span class="text-info" translate>Already exists. Overwrite ?</span>\n                                                    <input type="checkbox" ng-model="dashboard.overwrite">\n                                                </div>\n                                                <div ng-if="!dashboard.exists">\n                                                    <span class="text-success" translate>OK</span>\n                                                </div>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </details>\n\n                    <div class="form-group">\n                        <button type="submit" class="btn btn-primary" ng-disabled="vm.importStarted" translate>Start import</button>\n                    </div>\n                </form>\n            </div>\n\n            <div ng-if="vm.step >= 3">\n                <h4 translate>Step 3 - Import</h4>\n\n                <uib-progressbar value="vm.importProgressValue" max="vm.importProgressMax"></uib-progressbar>\n\n                <div class="well" style="height: 300px; overflow-y: auto;">\n                    <div ng-class="\'text-\' + message.type" ng-repeat="message in vm.messages track by $index">{{ message.text }}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/layer/addAllModal.html','<nd-modal id="addAllModal">\n    <div class="modal-body ng-scope">\n        <button type="button" class="close pull-right" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i></button>\n        <br>\n        <h4 class="modal-title" translate>Add all elements from this collection to the layer ?</h4>\n        <br>\n        <button type="button" class="btn btn-info pull-right"  ng-click="addAllElements()" translate>Confirm</button>\n        <button type="button" class="btn btn-white pull-right" data-dismiss="modal" translate>Cancel</button>\n    </div>\n</nd-modal>\n');
$templateCache.put('partials/layer/elementModal.html','<nd-modal id="elementModal">\n    <div class="modal-header ng-scope">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i></button>\n        <h4 class="modal-title" translate>Add element to schema</h4>\n        <h5 class="modal-title">{{modalElement.elementName}}</h5>\n    </div>\n\n    <div class="modal-body ng-scope">\n        <uib-tabset active="tab.active">\n            <uib-tab index="0" ng-show="modalElement.isCustom" heading="{{ \'Expression\' | translate }}">\n                    <div class="container-fluid row">\n                        <div class="col-md-6">\n                            <ul class="scroll-list btn-group-vertical">\n                                <li class="btn" ng-repeat="collection in customExpressionCollections()"\n                                ng-class="{ \'scroll-list-selected\' :  selectedModalCollection === collection }"\n                                ng-show="modalElement.component === undefined ||  collection.component === modalElement.component"\n                                ng-click="selectModalCollection(collection)">\n                                    <span >{{collection.collectionLabel}}</span>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="col-md-6" ng-show="selectedModalCollection">\n                            <ul class="scroll-list btn-group-vertical">\n                                <li class="btn" ng-repeat="element in selectedModalCollection.elements" ng-click="addElementToExpression(element)">\n                                    <span>{{element.elementLabel}}</span>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    <input class="form-control" ng-model="modalElement.viewExpression" required>\n\n                    <ul id="legend-field-3">\n                      <li ng-repeat="element in getElementsUsedInCustomExpression()">\n                    {{\'#\' + element.elementID + \' \' + \'=\'+ \' \'  + element.elementLabel + \'(\' + element.collectionName + \')\'}}\n                    </li>\n                    </ul>\n            </uib-tab>\n            <uib-tab index="1" heading="{{ \'General\' | translate }}">\n                    <div class="row">\n                        <div class="col-md-6">\n\n                            <div class="form-group">\n                                <label for="field-3" class="control-label" translate>Label</label>\n                                <input id="field-3" class="form-control" ng-model="modalElement.elementLabel" required>\n                            </div>\n                        </div>\n                        <div class="col-md-6">\n                            <div class="form-group">\n                                <label for="field-4" class="control-label" translate>Type</label>\n                                <select id="field-4" class="form-control" ng-model="modalElement.elementType" ng-options="obj.value as obj.name for obj in elementTypes"></select>\n                            </div>\n\n                        </div>\n                    </div>\n\n\n                    <div class="row" ng-if="modalElement.elementType == \'number\'">\n                        <div class="col-md-6">\n\n\n                        </div>\n                        <div class="col-md-6">\n                            <div class="form-group">\n                                <label for="field-default-aggregation-number" class="control-label" translate>Default aggregation</label>\n                                <select id="field-default-aggregation-number" class="form-control" ng-model="modalElement.defaultAggregation" ng-options="obj.value as obj.name for obj in numberDefaultAggregation"></select>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div class="row" ng-if="modalElement.elementType == \'string\'">\n                        <div class="col-md-6">\n\n\n                        </div>\n                        <div class="col-md-6">\n                            <div class="form-group">\n                                <label for="field-default-aggregation-string" class="control-label" translate>Default aggregation</label>\n                                <select id="field-default-aggregation-string" class="form-control" ng-model="modalElement.defaultAggregation" ng-options="obj.value as obj.name for obj in stringDefaultAggregation"></select>\n                            </div>\n\n                        </div>\n                    </div>\n\n\n                    <div class="row">\n                        <div class="col-md-12">\n                            <div class="form-group">\n                                <label for="field-5" class="control-label" translate>Description</label>\n                                <textarea ng-model="modalElement.description" class="form-control autogrow" id="field-5"  style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 50px;"></textarea>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div class="row">\n                        <div class="col-md-12">\n                            <div class="form-group" ng-if="modalElement.elementType == \'array\'">\n\n                                <label class="control-label" translate>Array values</label>\n                                <div ng-repeat="value in modalElement.values">\n                                    <span class="form-control" style="width: 47%; float: left; font-weight: bold;">{{value.value}} </span>\n                                    <input class="form-control" ng-model="value.label" placeholder="{{ \'label\' | translate }}" style="width: 47%; float: left;">\n                                    <i class="fa fa-times hand-cursor" ng-click="removeFromArray(modalElement.values, value)" style="padding: 9px;"></i>\n                                </div>\n\n                                <div>\n                                    <input class="form-control" ng-model="valueValue" placeholder="{{ \'enter new value\' | translate }}" style="width: 47%; float: left;">\n                                    <input class="form-control" ng-model="valueLabel" placeholder="{{ \'enter new label\' | translate }}" style="width: 47%; float: left;">\n                                    <i class="fa fa-arrow-right hand-cursor" style="padding: 9px;"\n                                        ng-click="addValueToElement(modalElement, valueValue, valueLabel);valueValue=\'\';valueLabel=\'\';"></i>\n                                </div>\n\n                            </div>\n\n                            <div class="form-group" ng-if="modalElement.elementType == \'lookup\'">\n\n                                <label class="control-label" translate>Lookup setup</label>\n                                <div>\n                                    <span class="form-control" style="width: 47%; float: left; font-weight: bold;" translate>Join Dataset </span>\n                                    <input class="form-control" ng-model="value.label" placeholder="{{ \'label\' | translate }}" style="width: 47%; float: left;">\n                                </div>\n                                <div>\n                                    <span class="form-control" style="width: 47%; float: left; font-weight: bold;" translate>Join Field </span>\n                                    <input class="form-control" ng-model="value.label" placeholder="{{ \'label\' | translate }}" style="width: 47%; float: left;">\n                                </div>\n                                <div>\n                                    <span class="form-control" style="width: 47%; float: left; font-weight: bold;" translate>Shown Field</span>\n                                    <input class="form-control" ng-model="value.label" placeholder="{{ \'label\' | translate }}" style="width: 47%; float: left;">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n            </uib-tab>\n            <uib-tab index="2" heading="{{ \'Format\' | translate }}">\n                       <div ng-if="modalElement.elementType == \'number\' || modalElement.elementType == \'date\'" >\n                            <div class="form-group">\n                                <label for="field-format" class="control-label" translate>Format</label>\n                                <input id="field-format" class="form-control" ng-model="modalElement.format" placeholder="{{ \'format...\' | translate }}" style="width: 100%;">\n                            </div>\n                            <div ng-if="modalElement.elementType == \'number\'">\n                                <h5 translate>Format examples</h5>\n                                <a class="btn btn-link pull-right" href="http://numeraljs.com/" target="_blank" translate>more examples...</a>\n\n                                <table class="table-condensed striped bordered">\n                                    <thead>\n                                    <tr>\n                                        <th translate>Number</th>\n                                        <th translate>Format</th>\n                                        <th translate>String</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    <tr><td>10000</td><td>0,0.0000</td><td>10,000.0000</td></tr>\n                                    <tr><td>10000.23</td><td>0,0</td><td>10,000</td></tr>\n                                    <tr><td>10000.1234</td><td>0.000</td><td>10000.123</td></tr>\n                                    <tr><td>-10000</td><td>(0,0.0000)</td><td>(10,000.0000)</td></tr>\n                                    <tr><td>-0.23</td><td>.00</td><td>-.23</td></tr>\n                                    <tr><td>1230974</td><td>0.0a</td><td>1.2m</td></tr>\n                                    <tr><td>1000.234</td><td>$0,0.00</td><td>$1,000.23</td></tr>\n                                    <tr><td>1000.2</td><td>0,0[.]00 $</td><td>1,000.20 $</td></tr>\n                                    <tr><td>0.974878234</td><td>0.000%</td><td>97.488%</td></tr>\n\n                                    </tbody>\n                                </table>\n\n                            </div>\n\n                            <div ng-if="modalElement.elementType == \'date\'">\n                                <h5 translate>Format examples</h5>\n                                <a class="btn btn-link pull-right" href="http://momentjs.com/docs/#/displaying/" target="_blank" translate>more examples...</a>\n\n                                <table class="table-condensed striped bordered">\n                                    <thead>\n                                    <tr>\n\n                                        <th translate>Format</th>\n                                        <th translate>Result</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    <tr><td>dddd, MMMM Do YYYY, h:mm:ss a</td><td>Sunday, February 14th 2010, 3:25:50 pm</td></tr>\n                                    <tr><td>DD/MM/YYYY</td><td>18/01/1969</td></tr>\n\n\n                                    </tbody>\n                                </table>\n\n                            </div>\n                    </div>\n            </uib-tab>\n        </uib-tabset>\n\n        <div ng-if="elementEditingWarning && elementEditingWarning != \'\'" class="alert-block">{{elementEditingWarning}}</div>\n        <div ng-if="modalCycle" class="alert-block">\n            <div translate>Cyclic definition : </div>\n            <div>\n                <span>{{modalElement.elementLabel}}</span>\n                <span ng-repeat="link in modalCycle"> --&gt; {{link.elementLabel}} </span>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="modal-footer ng-scope">\n        <button type="button" class="btn btn-white" data-dismiss="modal" ng-click="elementEditing = false" translate>Cancel</button>\n        <button type="button" class="btn btn-info" ng-show="tabbed_panel_active===0" ng-click="validateCustomElement()" translate>Next</button>\n        <button  type="button" class="btn btn-info"  ng-click="saveElement()" translate>Save</button>\n\n    </div>\n</nd-modal>\n');
$templateCache.put('partials/layer/folderModal.html','<nd-modal id="layerModal">\n    <div class="modal-header ng-scope">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i></button>\n        <h4 class="modal-title" translate>Layer Properties</h4>\n    </div>\n\n    <div class="modal-body ng-scope">\n\n        <div class="row">\n            <div class="col-md-12">\n\n                <div class="form-group">\n                    <label for="field-3" class="control-label" translate>Layer Name</label>\n\n                    <input type="text" class="form-control" id="field-3"  ng-model="_Layer.name" required>\n                </div>\n\n            </div>\n\n\n        </div>\n\n\n        <div class="row">\n            <div class="col-md-12">\n\n                <div class="form-group no-margin">\n                    <label for="field-7" class="control-label" translate>Layer description</label>\n\n                    <textarea ng-model="_Layer.description" class="form-control autogrow" id="field-7"  style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 50px;"></textarea>\n                </div>\n\n\n\n\n\n            </div>\n        </div>\n\n    </div>\n\n    <div class="modal-footer ng-scope">\n        <button type="button" class="btn btn-white" data-dismiss="modal" translate>Cancel</button>\n        <button type="button" class="btn btn-info"  ng-click="save()" translate>Save layer</button>\n    </div>\n</nd-modal>');
$templateCache.put('partials/layer/objectProperties.html','<div id="layerObjectProperties">\n        <div class="container-fluid tool-set" ng-if="objectType != \'layer\' && objectType != \'\' && objectType != undefined">\n            <div class="container-fluid">\n                    <span ng-if="objectType == \'join\'" translate>Join</span>\n                    <span ng-if="objectType == \'collection\'" translate>Dataset</span>\n                    <span ng-if="objectType == \'element\'" translate>Element</span>\n                    <button ng-if="objectType != \'element\'" type="button" class="btn btn-danger pull-right"  ng-click="delete()" translate>Delete</button>\n                    <button ng-if="objectType == \'collection\' && object.isSQL" type="button" class="btn pull-right query-edit-btn"  ng-click="onEdit()" translate>Edit</button>\n                    <button ng-if="!object.elementRole && objectType == \'element\'" type="button" class="btn btn-success pull-right" ng-click="publishElement()" data-toggle="tooltip" data-placement="bottom" title="{{ \'Add to layer elements\' | translate }}">+</button>\n                    <button ng-if="object.elementRole && objectType == \'element\'" type="button" class="btn btn-warning pull-right" ng-click="removeElement()" data-toggle="tooltip" data-placement="bottom" title="{{ \'Remove from layer elements\' | translate }}">-</button>\n\n            </div>\n        </div>\n\n\n<div class="container-fluid main">\n\n\n   <div class="container-fluid" ng-if="objectType == \'\' || objectType == undefined">\n            <br/>\n            <br/>\n            <span translate>No Selection</span>\n        </div>\n\n<div ng-if="objectType == \'collection\'">\n<div class="container-fluid main-properties-container">\n        <div class="row">\n            <div class="col-md-6">\n                <div class="form-group">\n                    <label for="field-3" class="control-label properties" translate>Name</label>\n                    <input id="field-3" class="form-control" ng-model="object.collectionName" required>\n                </div>\n            </div>\n\n            <div class="col-md-6">\n                <div class="form-group">\n                    <label for="field-3" class="control-label properties" translate>Label</label>\n                    <input id="field-3" class="form-control" ng-model="object.collectionLabel" required>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <div class="form-group">\n                    <label for="field-5" class="control-label properties" translate>Description</label>\n                    <textarea ng-model="object.description" class="form-control autogrow" id="field-5"  style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 50px;"></textarea>\n                </div>\n            </div>\n        </div>\n\n        <div class="row" ng-if="object.sqlQuery">\n            <div class="col-md-12">\n                <div class="form-group">\n                    <label for="field-5" class="control-label">SQL</label>\n                    <textarea ng-model="object.sqlQuery" class="form-control autogrow" id="field-5"></textarea>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n\n<div ng-if="objectType == \'element\'">\n    <div class="container-fluid tab-container">\n        <div class="row" >\n            <div class="col-md-12">\n                <div class="form-group">\n                    <label  class="control-label properties" translate>Name</label>\n                    <input type="text" class="form-control" placeholder="{{object.elementName}}" disabled="">\n                </div>\n            </div>\n        </div>\n\n        <div class="row" >\n            <div class="col-md-12">\n                <div class="form-group">\n                    <label  class="control-label properties" translate>Label</label>\n                    <input type="text" class="form-control" ng-model="object.elementLabel">\n                </div>\n            </div>\n        </div>\n\n        <div class="row" >\n            <div class="col-md-6">\n                <div class="form-group">\n                    <label for="field-4" class="control-label" translate>Type</label>\n                    <select id="field-4" class="form-control ng-pristine ng-untouched ng-valid ng-not-empty" ng-model="object.elementType" ng-options="obj.value as obj.name for obj in elementTypes"></select>\n                </div>\n            </div>\n\n            <div class="col-md-6" ng-if="object.elementType != \'number\'">\n                <div class="form-group">\n                    <label for="field-4" class="control-label" translate>Default Aggregation</label>\n                    <select  id="field-4b" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="object.defaultAggregation" ng-options="obj.value as obj.name for obj in stringDefaultAggregation"></select>\n                </div>\n            </div>\n\n            <div class="col-md-6" ng-if="object.elementType == \'number\'">\n                <div class="form-group">\n                    <label for="field-4" class="control-label" translate>Default Aggregation</label>\n                    <select  id="field-4b" class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="object.defaultAggregation" ng-options="obj.value as obj.name for obj in numberDefaultAggregation"></select>\n                </div>\n            </div>\n        </div>\n\n        <div class="row" ng-if="object.elementType == \'number\' || selectedElement.elementType == \'date\'">\n            <div class="col-md-12">\n                <div class="form-group">\n                    <label  class="control-label properties" translate>Format</label>\n                    <input type="text" class="form-control" ng-model="object.format" placeholder="{{ \'format...\' | translate }}">\n                    <p class="help-block"><a class="pull-right" href="http://numeraljs.com/" target="_blank" translate>More Info</a></p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div ng-if="objectType == \'join\'">\n    <div class="container-fluid main-properties-container">\n                <div class="row" style="margin-top: 20px;">\n                    <div class="col-md-12">\n                            <label  class="control-label properties" translate>Source</label>\n                        <input type="text" class="form-control" placeholder="{{object.sourceCollectionName+\'.\'+object.sourceElementName}}" disabled="">\n                    </div>\n                </div>\n                <div class="row" style="margin-top: 20px;">\n                    <div class="col-md-12">\n                            <label  class="control-label properties" translate>Target</label>\n                            <input type="text" class="form-control" placeholder="{{object.targetCollectionName+\'.\'+object.targetElementName}}" disabled="">\n\n                    </div>\n                </div>\n                 <div class="row" style="margin-top: 20px;">\n                    <div class="col-md-12">\n                            <label  class="control-label properties" translate>Join type</label>\n                                <div class="btn-group btn-group-justified" style="width: 100%;">\n                                    <a type="button" class="btn btn-sm" ng-class="{\'btn-info\': object.joinType == \'left\',\'btn-white\': object.joinType != \'left\'}"   ng-click="changeJoinType(\'left\')" translate>Left</a>\n\n                                    <a type="button" class="btn btn-sm" ng-class="{\'btn-info\': object.joinType == \'default\',\'btn-white\': object.joinType != \'default\'}"  ng-click="changeJoinType(\'default\')" translate>Inner</a>\n\n                                    <a type="button" class="btn btn-sm" ng-class="{\'btn-info\': object.joinType == \'right\',\'btn-white\': object.joinType != \'right\'}"  ng-click="changeJoinType(\'right\')" translate>Right</a>\n                                </div>\n\n                    </div>\n                </div>\n\n    </div>\n\n</div>\n\n\n<div ng-if="objectType == \'layer\'">\n    <div class="container-fluid main-properties-container">\n        <div class="row">\n            <div class="col-md-12">\n                <div class="form-group">\n                    <label for="field-3" class="control-label properties" translate>Layer Name</label>\n                    <input id="field-3" class="form-control" ng-model="object.name" required>\n                </div>\n            </div>\n        </div>\n\n\n        <div class="row">\n            <div class="col-md-12">\n                <div class="form-group">\n                    <label for="field-5" class="control-label properties" translate>Description</label>\n                    <textarea ng-model="object.description" class="form-control autogrow" id="field-5"></textarea>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n</div>\n\n</div>\n');
$templateCache.put('partials/layer/sqlModal.html','<nd-modal id="sqlModal">\n    <form name="sqlLayerForm">\n    <div class="modal-header ng-scope">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i></button>\n        <h4 class="modal-title" translate>Add new SQL</h4>\n    </div>\n\n    <span ng-if="!newSQLCollection">\n\n        <div class="modal-body ng-scope">\n\n            <div class="container-fluid">\n\n                <div class="form-group" ng-class="{ \'has-error\': sqlLayerForm.name.$invalid }">\n                            <label class="control-label" for="field-name" translate>Type a name for this dataset</label>\n                            <input type="text" class="form-control" id="field-name" name="name" ng-model="temporarySQLCollection.name" placeholder="{{ \'type a name for the dataset\' | translate }}" ng-required="true" required>\n                            <span ng-show="sqlLayerForm.name.$invalid" class="help-inline" translate>The name is required</span>\n                </div>\n                <div class="form-group" ng-class="{ \'has-error\': sqlLayerForm.sql.$invalid || temporarySQLCollection.error }">\n                    <label class="control-label" for="field-sql" translate>SQL query</label>\n                    <textarea class="form-control autogrow" cols="20" id="field-sql" name="sql" ng-model="temporarySQLCollection.sqlQuery" ng-required="true" required></textarea>\n\n                    <div ng-show="sqlLayerForm.sql.$invalid" class="help-block" translate>You have to enter an SQL query</div>\n\n                    <div class="help-block" ng-show="temporarySQLCollection.error">\n                        {{ temporarySQLCollection.error }}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="modal-footer ng-scope">\n            <button type="button" class="btn btn-white" data-dismiss="modal" translate>Cancel</button>\n            <button type="button" class="btn btn-info" ng-disabled="sqlLayerForm.$invalid  || sqlLayerForm.$pristine" \n            ng-if="temporarySQLCollection.mode === \'add\'" ng-click="addSqlToLayer()" translate>Add to layer</button>\n            <button type="button" class="btn btn-info" ng-disabled="sqlLayerForm.$invalid  || sqlLayerForm.$pristine" \n            ng-if="temporarySQLCollection.mode === \'edit\'" ng-click="saveSQLChanges()" translate>Save changes</button>\n        </div>\n    </span>\n    </form>\n\n    <span ng-if="newSQLCollection">\n\n        <div class="modal-body ng-scope">\n\n            <h4 translate>Please confirm your modification</h4>\n            <br>\n\n            <div class="row">\n                <div class="col-md-4">\n                    <h6 translate>The following columns will be kept :</h6>\n                    <br>\n                    <ul>\n                        <li ng-repeat="el in matchedElements">\n                            {{el.elementName}}\n                        </li>\n                    </ul>\n                </div>\n\n                <div class="col-md-4">\n                    <h6 translate>The following columns will be added :</h6>\n                    <br>\n                    <ul>\n                        <li ng-repeat="el in newElements">\n                            {{el.elementName}}\n                        </li>\n                    </ul>\n                </div>\n\n                <div class="col-md-4">\n                    <h6 translate>The following columns will be removed :</h6>\n                    <br>\n                    <ul>\n                        <li ng-repeat="el in lostElements">\n                            {{el.elementName}}\n                        </li>\n                    </ul>\n                </div>\n\n            </div>\n\n        </div>\n\n        <div class="modal-footer ng-scope">\n                <button type="button" class="btn btn-white" data-dismiss="modal" translate>Cancel</button>\n                <button type="button" class="btn btn-info" ng-click="confirmSQLChanges()" translate>Confirm</button>\n        </div>\n\n    </span>\n\n</nd-modal>\n');
$templateCache.put('partials/layer/view.html','<script src="s/jsplumb/dist/js/jsplumb.min.js"></script>\n\n\n<div class="explorer-main-container">\n\n    <div class="explorer-container">\n\n        <div class="explorer-header">\n            <div class="explorer-header-title">\n                <h3 app-editable-text="_Layer.name">{{ _Layer.name }}</h3>\n            </div>\n            <div class="explorer-header-buttons">\n                <a ng-click="save()" class="btn btn-success pull-right" style="margin-left: 5px; margin-right: 5px;" translate>Save layer</a>\n                <a href="layers" class="btn btn-default pull-right" translate>Cancel</a>\n            </div>\n        </div>\n\n\n        <div class="explorer-body" ng-init="view()" style="background-position: -25px -1px; background-image: url(&quot;data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSIzNCIgaGVpZ2h0PSIzNCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDguNSBMIDM0IDguNSBNIDguNSAwIEwgOC41IDM0IE0gMCAxNyBMIDM0IDE3IE0gMTcgMCBMIDE3IDM0IE0gMCAyNS41IEwgMzQgMjUuNSBNIDI1LjUgMCBMIDI1LjUgMzQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDM0IDAgTCAwIDAgMCAzNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=&quot;);">\n\n\n\n\n\n            <section id="objectPanel" ng-init="tabs.selected = \'elements\'" class="catalogSidebar">\n                <menu>\n                    <li class="search hand-cursor" ng-class="{\'on\': tabs.selected === \'properties\'}">\n                        <a ng-click="tabs.selected = \'properties\'">\n                            <i class="fa fa-gear"></i>\n                        </a>\n                    </li>\n                    <li id="searchTabButton" class="search hand-cursor" ng-class="{\'on\': tabs.selected == \'elements\'}">\n                        <a  ng-click="tabs.selected = \'elements\'">\n                            <span class="objectPanel-menu-label" translate>Layer elements</span>\n                            <i class="fa fa-newspaper-o fa-2" aria-hidden="true"></i><!--<br/>Layer<br/>Elements-->\n                        </a>\n                    </li>\n                    <li id="sourcesTabButton" class="search hand-cursor" ng-class="{\'on\': tabs.selected == \'sources\'}">\n                        <a  ng-click="tabs.selected = \'sources\'">\n                            <span class="objectPanel-menu-label" translate>Sources</span>\n                            <i class="fa fa-plug fa-2" aria-hidden="true"></i>\n                        </a>\n                    </li>\n                    <li id="queriesTabButton" class="search hand-cursor" ng-class="{\'on\': tabs.selected == \'queries\'}">\n                        <a  ng-click="tabs.selected = \'queries\'">\n                            <span class="objectPanel-menu-label" translate>Queries</span>\n                            <i class="fa fa-map fa-2" aria-hidden="true"></i> <!--<br/>SQL<br/> Queries-->\n                        </a>\n                    </li>\n                </menu>\n\n                <section class="content" >\n                    <section id="propertiesTab" class="results infinite ng-hide" ng-show="tabs.selected == \'properties\'" style="padding: 5px;">\n                            <!--<h5 class="pull-right">Properties</h5>-->\n\n                        <layer-object-properties object-type="selectedItem" object="theSelectedElement" on-delete="deleteObject()" on-edit="editObject"\n                        element-types="elementTypes" string-default-aggregation="stringDefaultAggregation" number-default-aggregation="numberDefaultAggregation"\n                        layer="_Layer" on-delete-element="deleteSchemaElement" on-publish-element="elementAdd"></layer-object-properties>\n\n                    </section>\n\n                    <section id="elementsTab" class="results infinite layer-elements ng-hide " ng-show="tabs.selected == \'elements\'">\n\n                        <div class="container-fluid">\n                            <div id="layerButtonGroup" class="btn-group">\n                                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                                    <span translate>Create</span>\n                                    <span class="caret"></span>\n                                </button>\n                                <ul class="dropdown-menu layerNewButtonDropdown">\n                                    <li><a href="" ng-click="addFolder()" translate>New Folder</a></li>\n                                    <li><a href="" ng-click="createComposedElement()" translate>New Element</a></li>\n                                </ul>\n                            </div>\n                        </div>\n\n\n                        <section class="layer scrollPane">\n\n                            <div    class="layer-elements-tree">\n                                <ng-include src="\'nestable_item.html\'"></ng-include>\n\n                                <script type="text/ng-template" id="nestable_item.html">\n                                    <!--<layer-element element="rootItem" on-element-edit-click="editElement" on-element-delete-click="deleteSchemaElement"></layer-element>-->\n                                <div>\n\n\n\n                                       <div class="schema-element"  ng-if="rootItem.elementRole == \'dimension\' || rootItem.elementRole == \'measure\'" >\n                                           <i class="fa fa-cube wst-main-color" ng-show="rootItem.elementType != \'date\' && rootItem.elementType != \'number\' && rootItem.elementType != \'count\' && (!rootItem.defaultAggregation)" data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Dimmension)"></i>\n                                                        <i class="fa fa-reorder wst-main-color" ng-show="rootItem.elementType == \'number\' || rootItem.elementType == \'count\' || (rootItem.elementType == \'string\' && rootItem.defaultAggregation)" data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Metric)"></i>\n                                                        <i class="fa fa-calendar-o wst-main-color" ng-show="rootItem.elementType == \'date\'" data-toggle="tooltip" data-placement="top"></i>\n                                           <span ng-if="!rootItem.editing == true">{{rootItem.elementLabel}}</span>\n                                           <i class="fa fa-wrench" style="color:#999999" ng-show="rootItem.isCustom"></i>\n                                           <div ng-if="!rootItem.editing == true" class="schema-element-btn">\n                                                <div class="btn btn-warning btn-xs delete-schema-element-btn" ng-click="deleteSchemaElement(rootItem)" translate>Remove</div>\n                                                <div class="btn btn-info btn-xs edit-schema-element-btn" ng-click="editElement(rootItem)" translate>Edit</div>\n                                            </div>\n\n\n                                        </div>\n\n                                        <div class="schema-folder"  ng-if="rootItem.elementRole == \'folder\'" >\n                                           <i class="fa fa-caret-down"></i>\n                                            <span ng-if="!rootItem.editing == true" class="" >{{rootItem.elementLabel}}</span>\n                                            <span ng-if="rootItem.editing == true" class=""><input type="text" ng-model="rootItem.elementLabel" style="width:100px"></span>\n\n                                            <div ng-if="!rootItem.editing == true" class="schema-element-btn">\n                                                <div class="btn btn-danger btn-xs delete-schema-element-btn" ng-click="deleteSchemaElement(rootItem)" translate>Delete</div>\n                                                <div class="btn btn-info btn-xs edit-schema-element-btn" ng-click="rootItem.editing = true; elementEditing = true;" translate>Edit</div>\n                                            </div>\n\n                                            <div ng-if="rootItem.editing == true" class="edit-schema-element-btn pull-right" ng-click="rootItem.editing = false" style="cursor:hand"><i class="fa fa-floppy-o save-folder-element-btn-icon" uib-tooltip="{{\'Save folder label\' | translate}}"></i></div>\n                                        </div>\n                                        <ul ng-if="rootItem.elementRole == \'folder\' || rootItem.elementRole == \'root\'" class="schema-container list-group" ui-sortable="sortableOptions" ng-model="rootItem.elements"\n                                            ng-class="{\'schema-element-container-placeholder\': onDrag, \'schema-element-container-default\': !onDrag}">\n                                            <li class="innerCont list-group-item hand-cursor" ng-repeat="rootItem in rootItem.elements" >\n                                                <ng-include src="\'nestable_item.html\'"></ng-include>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </script>\n                             </div>\n\n                        </section>\n                        <div class="scrollTrack vScrollTrack">\n                            <div class="scrollThumb" style="height: 72px; transform: translateY(0);"></div>\n                        </div>\n                        <div class="scrollTrack hScrollTrack">\n                            <div class="scrollThumb disabled" style="width: 354px; transform: translateX(0);"></div>\n                        </div>\n                    </section>\n\n            <section id="sourcesTab" class="results infinite ng-hide" ng-show="tabs.selected == \'sources\'">\n                <section class="layer scrollPane">\n\n                    <div class="container-fluid" style="min-height: 100%;">\n                        <div ui-tree data-nodrop-enabled="true" data-drag-enabled="false">\n                          <ol ui-tree-nodes="" ng-model="datasources">\n                            <li  ng-repeat="item in datasources" ui-tree-node>\n                              <div ui-tree-handle class="layer-tree-datasource selected-datasource" style="cursor: pointer;">\n                                    <i ng-if="!item.isCollapsed" ng-click="getDatasetsForThisDts(item._id,item)" class="fa fa-plus-square"></i>\n                                    <i ng-if="item.isCollapsed" class="fa fa-minus-square" ng-click="item.isCollapsed = !item.isCollapsed" ></i>\n\n\n                                  <span ng-disabled="item.loading || item.status == -1" ng-click="getDatasetsForThisDts(item._id,item)">{{item.name}}</span>\n\n                                    <i ng-if="(item.status == -1 || item.entities ) && !item.loading" class="fa fa-refresh" ng-click="getDatasetsForThisDts(item._id,item)" style="color: #eee; font-size: 16px;"></i>\n\n                                        <div id="fountainG" ng-if="item.loading">\n                                            <div id="fountainG_1" class="fountainG"></div>\n                                            <div id="fountainG_2" class="fountainG"></div>\n                                            <div id="fountainG_3" class="fountainG"></div>\n                                            <div id="fountainG_4" class="fountainG"></div>\n                                            <div id="fountainG_5" class="fountainG"></div>\n                                            <div id="fountainG_6" class="fountainG"></div>\n                                            <div id="fountainG_7" class="fountainG"></div>\n                                            <div id="fountainG_8" class="fountainG"></div>\n                                        </div>\n\n\n                              </div>\n                                      <ol  ui-tree-nodes="" ng-model="item.entities">\n                                        <li ng-repeat="collectionName in item.entities" ui-tree-node>\n                                          <div ui-tree-handle class="layer-tree-datasource-collection" style="font-weight: 100;">\n                                            <table style="width: 100%; cursor: default;">\n                                                <tr style="width: 100%;">\n                                                    <td>\n                                                        <i class="fa fa-table" aria-hidden="true"></i>\n                                                    </td>\n                                                    <td class="layer-tree-td-name">\n                                                        {{ collectionName }}\n                                                    </td>\n                                                    <td>\n                                                        <button type="button" ng-click="addDatasetToLayer(item._id, collectionName)" class="btn btn-info btn-xs add-to-layer-btn" translate>Add</button>\n                                                    </td>\n                                                </tr>\n                                              </table>\n                                          </div>\n                                        </li>\n                                      </ol>\n                            </li>\n                          </ol>\n                        </div>\n\n                     </div>\n\n                </section>\n                <div class="scrollTrack vScrollTrack">\n                    <div class="scrollThumb" style="height: 72px; transform: translateY(0);"></div>\n                </div>\n                <div class="scrollTrack hScrollTrack">\n                    <div class="scrollThumb disabled" style="width: 354px; transform: translateX(0);"></div>\n                </div>\n            </section>\n            <section id="queriesTab" class="results infinite ng-hide" ng-show="tabs.selected == \'queries\'" style="padding: 5px;">\n                    <a ng-click="addSQL()" class="btn btn-info pull-right" style="margin-left: 5px; margin-right: 5px;" translate>Add SQL</a>\n                <div ng-if="collection.sql" ng-repeat="collection in _Layer.params.schema">{{collection.collectionName}}</div>\n            </section>\n                </section>\n            </section>\n\n\n\n\n            <div id="collections" class="canvas-parent" ng-click="selectedCanvas($event)" style="left: 300px;">\n            <div  class="canvas canvas-wide flowchart-demo jtk-surface jtk-surface-nopan canvas-er" id="canvas" style="cursor: default;">\n\n                <div id="{{collection.collectionID}}-parent"  class="window jtk-node  jsplumb-draggable" ng-style="{\'left\': collection.left, \'top\': collection.top}"\n                ng-repeat="collection in _Layer.params.schema">\n\n\n                    <div id="{{collection.collectionID}}" class=" jtk-header " style="overflow: hidden; padding-left: 2px;">\n                        <div class="row">\n                            <span class="col-md-1 jtk-field-icon" style="color: white;"><i ng-show="!element.elementRole" class="fa fa-database"></i></span>\n\n                            <span class="col-md-6 jtk-header-label" style="overflow: hidden; text-align: left;" ng-click="selectCollection(collection,$event)">\n                                {{collection.collectionName}}\n                            </span>\n\n                            <span class="col-md-4">\n                                <span ng-click="toggleFolded(collection)" >\n                                    <i ng-hide="collection.folded" class="jtk-field-selected fa fa-minus-square"></i>\n                                    <i ng-show="collection.folded" class="jtk-field-selected fa fa-plus-square"></i>\n                                </span>\n\n                                <span>\n                                    <i ng-hide="allElementsAdded(collection)" class="jtk-field-icon fa fa-plus-square" ng-click="promptAddAll(collection)" uib-tooltip="{{ \'Add all\' | translate }}" ></i>\n                                    <i ng-show="allElementsAdded(collection)" class="jtk-field-selected fa fa-check-square" ></i>\n                                </span>\n                            </span>\n                        </div>\n\n                    </div>\n\n\n\n                    <div class="jtk-field" id="{{element.elementID}}" \n                    ng-repeat="element in collection.elements"  title="{{element.elementName}}" data-html="true" rel="tooltip" \n                    ng-class="{\'isPK\': element.isPK}" ng-click="selectElement(element,$event)" ng-hide="collection.folded && !isInAJoin(element)">\n\n                        <table style="border: 0;">\n                            <tr>\n                                <td class="jtk-field-icon"><i ng-show="!element.elementRole" class="fa fa-plus-square" ng-click="elementAdd(element)" ></i></td>\n                                <td class="jtk-field-icon"><i ng-show="element.count" class="fa fa-superscript element-variable"  ></i></td>\n                                <td class="jtk-field-selected"><i ng-show="element.elementRole" class="fa fa-check-square"  ></i></td>\n\n                                <td class="jtk-field-label" ng-class="{\'field-selected\': element.elementRole}">{{element.elementName}}</td>\n                            </tr>\n\n                        </table>\n\n\n                    </div>\n                </div>\n            </div>\n        </div>\n        </div>\n    </div>\n</div>\n<div ng-include src="elementModal"></div>\n<div ng-include src="sqlModal"></div>\n<div ng-include src="addAllModal"></div>\n');
$templateCache.put('partials/layers/layers-list-buttons.html','<div class="btn-group btn-group-sm pull-right">\n    <a class="btn btn-silver" ng-href="layers/{{ vm.layer._id }}" uib-tooltip="{{ \'Edit this layer\' | translate }}" tooltip-placement="bottom">\n        <i class="fa fa-pencil"></i>\n    </a>\n\n    <button class="btn btn-danger" ng-click="vm.openDeleteModal()" uib-tooltip="{{ \'Delete this layer\' | translate}}" tooltip-placement="bottom">\n        <i class="fa fa-trash-o"></i>\n    </button>\n</div>\n');
$templateCache.put('partials/layers/layers-new-modal.html','<div class="modal-header ng-scope">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>\n    <h4 class="modal-title" translate>Layer Properties</h4>\n</div>\n\n<div class="modal-body ng-scope">\n    <form id="new-layer-form" name="newLayerForm" ng-submit="vm.createLayer()" novalidate>\n        <div class="row">\n            <div class="col-md-12">\n                <div class="form-group" ng-class="{\'has-error\': newLayerForm.$submitted && newLayerForm.name.$invalid}">\n                    <label for="new-layer-name" class="control-label" translate>Layer name</label>\n                    <input id="new-layer-name" name="name" type="text" class="form-control" ng-model="vm.newLayer.name" required>\n                    <span class="help-block" ng-if="newLayerForm.$submitted && newLayerForm.name.$error.required" translate>Name is required</span>\n                </div>\n\n                <div class="form-group no-margin">\n                    <label class="control-label" for="new-layer-description" translate>Layer description</label>\n                    <textarea id="new-layer-description" ng-model="vm.newLayer.description" class="form-control" rows="5" style="resize: vertical;"></textarea>\n                </div>\n\n                <div class="form-group" ng-class="{\'has-error\': newLayerForm.$submitted && newLayerForm.datasource.$invalid}">\n                    <label class="control-label" for="new-layer-datasource" translate>Data source</label>\n                    <select class="form-control" id="new-layer-datasource" name="datasource" ng-model="vm.datasource" ng-options="datasource as datasource.name for datasource in vm.datasources" required>\n                        <option value=""></option>\n                    </select>\n                    <span class="help-block" ng-if="newLayerForm.$submitted && newLayerForm.datasource.$error.required" translate>Data source is required</span>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n\n<div class="modal-footer ng-scope">\n    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button type="submit" form="new-layer-form" class="btn btn-info" translate>Save layer</button>\n</div>\n');
$templateCache.put('partials/layers/list.html','<div id="parentIntro" ng-intro-method="vm.showIntro" ng-intro-options="vm.introOptions" class="container-fluid root-container">\n    <div class="row">\n        <div class="col-md-3">\n            <app-sidebar show-intro="vm.showIntro()"></app-sidebar>\n        </div>\n\n        <div class="col-md-9">\n            <div class="page-header">\n                <span class="h3" translate>Layers</span>\n\n                <a id="newLayerButton" ng-click="vm.showNewLayerModal()" class="btn btn-success pull-right" uib-tooltip="{{ \'Click here to create a new single query report\' | translate }}" tooltip-placement="bottom" translate>New layer</a>\n                <a class="btn btn-info pull-right" ng-click="vm.showIntro()" style="margin-right: 3px;" uib-tooltip="{{ \'Follow the guided tour for data sources\' | translate }}" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a>\n            </div>\n\n            <table class="table table-striped">\n                <colgroup>\n                    <col style="width: 40%;">\n                    <col style="width: 30%;">\n                    <col style="width: 30%;">\n                </colgroup>\n                <thead>\n                    <tr>\n                        <th>\n                            <span translate>Name</span>\n                            <app-table-column-sort on-sort="vm.onSort(\'name\', $dir)" sort-dir="vm.sortDir[\'name\']"></app-table-column-sort>\n                        </th>\n                        <th>\n                            <span translate>Status</span>\n                            <app-table-column-sort on-sort="vm.onSort(\'status\', $dir)" sort-dir="vm.sortDir[\'status\']"></app-table-column-sort>\n                        </th>\n                        <th></th>\n                    </tr>\n                    <tr>\n                        <td>\n                            <app-table-column-filter on-filter="vm.onFilter(\'name\', $value)"></app-table-column-filter>\n                        </td>\n                        <td>\n                            <app-table-column-filter on-filter="vm.onFilter(\'status\', $value)"></app-table-column-filter>\n                        </td>\n                        <td></td>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat="layer in vm.layers">\n                        <td>\n                            <a ng-href="layers/{{ layer._id }}">{{ layer.name }}</a>\n                        </td>\n                        <td>\n                            <a\n                                class="badge"\n                                ng-click="vm.toggleActive(layer)"\n                                ng-class="{\'badge-success\': layer.status == \'active\', \'badge-danger\': layer.status == \'Not active\'}"\n                                uib-tooltip="{{ \'Click here to change the status of the layer\' | translate }}"\n                            >\n                                <span ng-if="layer.status === \'active\'" translate>active</span>\n                                <span ng-if="layer.status === \'Not active\'" translate>not active</span>\n                            </a>\n                        </td>\n                        <td><app-layers-list-buttons layer="layer" on-delete="vm.refresh()" on-duplicate="vm.refresh()"></app-layers-list-buttons></td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <app-pager current-page="vm.currentPage" total-pages="vm.pages" on-page-change="vm.goToPage(page)"></app-pager>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/logout/index.html','<div class="well" style="text-align: center;" >\n    <h1 translate>you have logout!!!</h1>\n    <h3 translate>Thanks for using Urungi</h3>\n    <div class="container">\n        <div class="login-header">\n            <a href="http://urungi.org"><img src="images/urungi.png" class="logo"></a>\n        </div>\n    </div>\n    <div>\n        <a class="github-button" href="https://github.com/biblibre/urungi" data-icon="octicon-star" data-show-count="true" aria-label="{{ \'Star biblibre/urungi on GitHub\' | translate }}">Star</a>\n        <script async defer src="https://buttons.github.io/buttons.js"></script>\n    </div>\n    <div>\n        <a class="btn btn-large btn-success" href="login" target="_self" translate>Back to login</a>\n    </div>\n</div>\n');
$templateCache.put('partials/report/edit.html','<div id="parentIntroReports" class="explorer-main-container" ng-intro-method="showIntro"  ng-intro-options="IntroOptions" >\n\n<div class="explorer-container">\n    <app-theme-link theme="selectedReport.theme"></app-theme-link>\n\n    <div class="explorer-header" ng-init="initReportEdit()">\n\n        <div class="explorer-header-title">\n                <h3  ng-if="mode == \'preview\' && !selectedReport.reportName" translate>Explorer</h3>\n                <h3 app-editable-text="selectedReport.reportName">{{ selectedReport.reportName }}</h3>\n\n        </div>\n\n    <div class="explorer-header-buttons">\n                <a id="saveReportBtn" data-ng-click="reportName()" class="btn btn-success pull-right"  ng-if="mode == \'edit\' && !isForDash" style="margin-left: 5px;" uib-tooltip="{{\'Click here to save the report changes\' | translate}}" tooltip-placement="bottom" translate>Save</a>\n\n                <a ng-if="isForDash != true" ng-click="goBack();" class="btn btn-default pull-right" uib-tooltip="{{\'Click here to cancel and backtrack\' | translate}}" tooltip-placement="bottom" translate>Cancel</a>\n                <a ng-if="isForDash == true" ng-click="cancelReport(selectedReport);" class="btn btn-default pull-right" uib-tooltip="{{\'Click here to cancel and back to the dashboard\' | translate}}" tooltip-placement="bottom" translate>Cancel</a>\n                <a class="btn btn-info pull-right" ng-click="showIntro()" style="margin-right: 3px;" uib-tooltip="{{\'Click here to conduct the guided tour for data explorer\' | translate}}" tooltip-placement="bottom"><i class="fa fa-map"></i></a>\n    </div>\n\n</div>\n\n    <div class="explorer-body">\n\n    <section id="objectPanel">\n        <menu>\n            <li id="searchTabButton" class="search hand-cursor" ng-class="{\'on\': tabs.selected == \'elements\'}">\n                <a  ng-click="tabs.selected = \'elements\'" >\n                    <div class="objectPanel-menu-label" translate>Elements</div>\n                    <i class="fa fa-newspaper-o fa-2" aria-hidden="true"></i>\n                </a>\n            </li>\n        </menu>\n\n        <section class="content" >\n            <section id="elementsTab" class="results infinite ng-hide" ng-show="tabs.selected == \'elements\'">\n                <section id="dataObjectsInner" class="layer scrollPane" ng-include="\'partials/report/partials/data-objects.html\'">\n\n                </section>\n            </section>\n\n        </section>\n    </section>\n\n    <section id="dropZone" class="scrollPane multiPage rendered ng-scope" ng-include="\'partials/report/partials/report-edit.html\'">\n    </section>\n\n    </div>\n\n</div>\n\n</div>\n');
$templateCache.put('partials/report/modals/dashboardListModal.html','<!-- Modal -->\n\n<div class="modal " id="dashListModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n\n\n                <h4 class="modal-title" id="myModalLabel" translate>Select the dashboard to push this report to</h4>\n                <a id="newDashboardBtn" ng-if="user.dashboardsCreate"  class="btn btn-success pull-right" ng-click="reportPushed2Dash(\'new\')" uib-tooltip="{{\'Click here to create a new dashboard and push this report in\' | translate}}" tooltip-placement="bottom" translate>New Dashboard</a>\n            </div>\n            <div id="searchModalBody" class="modal-body" ng-init="setHeight(\'searchModalBody\', \'full\', -118)">\n                <div  id="reportListItem" class="list-group-item" ng-repeat="dashboard in dashboards.items">\n\n                        <a id="pushToDashBtn" ng-click="reportPushed2Dash(dashboard._id)" class="pull-right" style="color: #000080; font-size: 16px; margin-right: 3px;" uib-tooltip="{{\'Click here to modify this dashboard\' | translate}}" tooltip-placement="bottom" translate>\n                            push\n                        </a>\n\n                        <a   ng-click="reportPushed2Dash(dashboard._id)"  uib-tooltip="{{\'Click here to select this dashboard\' | translate}}" tooltip-placement="bottom">\n                            <h4 id="reportListItemName" class="list-group-item-heading" ng-bind="dashboard.dashboardName"></h4>\n                            <p id="reportListItemDetails" class="list-group-item-text" ng-bind="dashboard.dashboardDescription"></p>\n                        </a>\n\n                </div>\n            </div>\n            <div class="modal-footer">\n\n            </div>\n        </div><!-- /.modal-content -->\n    </div><!-- /.modal-dialog -->\n</div>\n');
$templateCache.put('partials/report/modals/filter-prompt-modal.html','<nd-modal id="filterPromptsModal">\n    <div class="modal-header ng-scope">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-close"></i></button>\n        <h4 class="modal-title" translate>Runtime Filter properties</h4>\n    </div>\n\n    <div class="modal-body ng-scope">\n\n        <div class="row">\n            <div class="col-md-6">\n                <div class="form-group">\n                    <label for="field-3" class="control-label" translate>Runtime Filter Label</label>\n\n                    <input type="text" class="form-control" id="field-3"  ng-model="selectedFilter.promptTitle">\n                </div>\n            </div>\n            <div class="col-md-6">\n                <div class="form-group">\n                    <label for="field-3" class="control-label"></label>\n                    <div class="checkbox popover-primary ng-scope" popover-trigger="mouseenter" popover-placement="top" popover-title="{{ \'Answer required\' | translate }}" popover="{{ \'Select if you want the user to enter an answer before executing the report.\' | translate }}">\n                        <label>\n                            <input type="checkbox" ng-model="selectedFilter.promptMandatory">\n                            <span translate>Answer required (mandatory filter)</span>\n                        </label>\n                    </div>\n                    <div class="checkbox">\n                        <label>\n                            <input type="checkbox" ng-model="selectedFilter.promptAllowMultipleSelection">\n                            <span translate>Allow Multiple selection</span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-12">\n                        <div class="form-group no-margin">\n                            <label for="field-7" class="control-label" translate>Filter Instructions</label>\n                            <textarea ng-model="selectedFilter.promptInstructions" class="form-control autogrow" id="field-7"  style="overflow: hidden; word-wrap: break-word; resize: horizontal; height: 50px;"></textarea>\n                        </div>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="modal-footer ng-scope">\n        <button type="button" class="btn btn-white" data-dismiss="modal" translate>Close</button>\n        <button ng-show="selectedFilter.filterPrompt" type="button" class="btn btn-danger"  ng-click="confirmFilterModal()" translate>Deactivate Filter</button>\n        <button ng-show="!selectedFilter.filterPrompt" type="button" class="btn btn-info"  ng-click="confirmFilterModal()" translate>Activate Filter</button>\n    </div>\n</nd-modal>\n');
$templateCache.put('partials/report/modals/reportNameModal.html','\n\n<nd-modal id="theReportNameModal">\n    <div class="modal-body">\n        <form class="simple-form" role="form" name="reportNameForm">\n            <div class="form-group">\n                <label translate>Report Name</label>\n                <input name="reportName" type="text" class="form-control" ng-model="selectedReport.reportName" ng-required="true" required >\n                <span ng-show="reportNameForm.reportName.$invalid" class="help-inline" translate>The report name is required</span>\n            </div>\n        </form>\n    </div>\n    <div class="modal-footer">\n        <button ng-click="reportNameSave()" ng-disabled="reportNameForm.$invalid" class="btn btn-primary submit-btn pull-right" translate>Save</button>\n        <button type="button" class="btn pull-right" data-dismiss="modal" translate>Cancel</button>\n    </div>\n</nd-modal>\n');
$templateCache.put('partials/report/partials/data-objects.html','<div class="editor-panel">\n\n    <div id="selectLayerContainer" class="container-fluid"  ng-if="layers.length > 1" >\n    <span translate>Choose a layer:</span>\n    <select id="selectLayer" ng-disabled="selectedReport.properties.columns.length > 0 || selectedReport.properties.order.length > 0 || selectedReport.properties.filters.length > 0" \n        class="form-control" ng-model="selectedReport.selectedLayerID" ng-options="obj._id as obj.name for obj in layers"\n                                            ng-change="changeLayer(selectedReport.selectedLayerID)"></select>\n    </div>\n    <ng-include src="\'nestable_item.html\'"></ng-include>\n\n    <script type="text/ng-template" id="nestable_item.html">\n        <div id="layerObjects">\n            <div class="schema-element-report schema-item-report"  \n            ng-if="(rootItem.elementRole == \'dimension\' || rootItem.elementRole == \'measure\')">\n\n                <a id="ELEMENT_{{rootItem.elementID}}" class="list-group-item data-source-element schema-item-report" \n                ng-if="isUsable(rootItem)"\n                ng-click="autoFill(rootItem)" draggable="true" app-dragstart="onElementDragStart($event, rootItem)">\n                            <i class="fa fa-cube wst-main-color" \n                            ng-show="rootItem.elementType != \'date\' && rootItem.elementType != \'number\' && rootItem.elementType != \'count\' && (!rootItem.defaultAggregation)"\n                            data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Dimmension)"></i>\n                            <i class="fa fa-reorder wst-main-color" \n                            ng-show="rootItem.elementType == \'number\' || rootItem.elementType == \'count\' || (rootItem.elementType == \'string\' && rootItem.defaultAggregation)" \n                            data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Metric)"></i>\n                            <i class="fa fa-calendar-o wst-main-color" ng-show="rootItem.elementType == \'date\'" data-toggle="tooltip" data-placement="top"></i>\n\n\n                            <span ng-hide="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel"></span>\n                            <span ng-show="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel + \'(\' + rootItem.defaultAggregation + \')\'"></span>\n\n                </a>\n\n                <a ng-if="!isUsable(rootItem)" class="element-disabled">\n                    <i class="fa fa-cube" \n                    ng-show="rootItem.elementType != \'date\' && rootItem.elementType != \'number\' && rootItem.elementType != \'count\' && (!rootItem.defaultAggregation)"\n                    data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Dimmension)"></i>\n                    <i class="fa fa-reorder" \n                    ng-show="rootItem.elementType == \'number\' || rootItem.elementType == \'count\' || (rootItem.elementType == \'string\' && rootItem.defaultAggregation)" \n                    data-toggle="tooltip" data-placement="top" title="{{rootItem.elementLabel}} (Metric)"></i>\n                    <i class="fa fa-calendar-o" ng-show="rootItem.elementType == \'date\'" data-toggle="tooltip" data-placement="top"></i>\n\n\n                    <span ng-hide="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel"></span>\n                    <span ng-show="rootItem.defaultAggregation" ng-bind="rootItem.elementLabel + \'(\' + rootItem.defaultAggregation + \')\'"></span>\n                </a>\n\n            </div>\n\n            <div class="schema-element-report schema-item-report"  ng-if="(rootItem.elementRole == \'dimension\' || rootItem.elementRole == \'measure\') && rootItem.enabled == false" >\n                <span class="list-group-item data-source-element schema-item-report element-disabled" style="color: #85878c;">{{rootItem.elementLabel}}</span>\n            </div>\n\n            <div class="schema-folder-report"  ng-if="rootItem.elementRole == \'folder\'" >\n                <i ng-if="!rootItem.isCollapsed" class="fa fa-plus-square" ng-click="rootItem.isCollapsed = !rootItem.isCollapsed" ></i>\n                <i ng-if="rootItem.isCollapsed" class="fa fa-minus-square" ng-click="rootItem.isCollapsed = !rootItem.isCollapsed" ></i>\n                <a  role="button" ng-click="rootItem.isCollapsed = !rootItem.isCollapsed" >\n                    {{rootItem.elementLabel}}\n                </a>\n            </div>\n            <div uib-collapse="!rootItem.isCollapsed && rootItem.elementRole != \'root\'" style="padding-left=10px">\n            <ul ng-if="rootItem.elementRole == \'folder\' || rootItem.elementRole == \'root\'" class="schema-container-report list-group" ng-class="">\n                <li class="innerCont list-group-item hand-cursor schema-item-report" ng-repeat="rootItem in rootItem.elements">\n                    <ng-include src="\'nestable_item.html\'"></ng-include>\n                </li>\n            </ul>\n            </div>\n        </div>\n    </script>\n\n\n\n    <style>\n        #metrics-list {\n            list-style: none;\n        }\n\n        #metrics-list li {\n            margin: 1px;\n            padding: 5px;\n            border: 1px solid black;\n        }\n    </style>\n</div>\n');
$templateCache.put('partials/report/partials/drop-area.html','    <!-- Metrics for charts and pivot tables -->\n\n    <app-report-dropzone ng-if="[\'pivot\', \'chart-line\', \'chart-donut\', \'chart-pie\', \'indicator\', \'gauge\', \'pyramid\'].includes(selectedReport.reportType)" report="selectedReport" elements="selectedReport.properties.ykeys" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here your metrics\' | translate"></app-report-dropzone>\n\n    <!-- Column entries -->\n\n    <app-report-dropzone id="columnsDropzone" ng-if="selectedReport.reportType == \'grid\' || selectedReport.reportType == \'vertical-grid\'" report="selectedReport" elements="selectedReport.properties.columns" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here your columns\' | translate"></app-report-dropzone>\n\n    <!--dimensions for pivot tables -->\n\n    <app-report-dropzone ng-if="selectedReport.reportType == \'pivot\'" report="selectedReport" elements="selectedReport.properties.pivotKeys.columns" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here the table columns\' | translate"></app-report-dropzone>\n\n    <app-report-dropzone ng-if="selectedReport.reportType == \'pivot\'" report="selectedReport" elements="selectedReport.properties.pivotKeys.rows" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here the table rows\' | translate"></app-report-dropzone>\n\n    <!--dimensions for charts -->\n\n    <app-report-dropzone ng-if="[\'chart-line\', \'chart-donut\', \'chart-pie\', \'pyramid\'].includes(selectedReport.reportType)" report="selectedReport" elements="selectedReport.properties.xkeys" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here the dimension field\' | translate"></app-report-dropzone>\n\n    <!-- Map -->\n\n    <app-report-dropzone ng-if="\'map\' === selectedReport.reportType" report="selectedReport" elements="selectedReport.properties.map.geojson" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here your GeoJSON column\' | translate" max-elements="1"></app-report-dropzone>\n    <app-report-dropzone ng-if="\'map\' === selectedReport.reportType" report="selectedReport" elements="selectedReport.properties.map.label" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here your label column\' | translate" max-elements="1"></app-report-dropzone>\n    <app-report-dropzone ng-if="\'map\' === selectedReport.reportType" report="selectedReport" elements="selectedReport.properties.map.value" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here your value column\' | translate" max-elements="1"></app-report-dropzone>\n    <app-report-dropzone ng-if="\'map\' === selectedReport.reportType" report="selectedReport" elements="selectedReport.properties.map.group" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here your group column\' | translate" max-elements="1"></app-report-dropzone>\n    <app-report-dropzone ng-if="\'map\' === selectedReport.reportType" report="selectedReport" elements="selectedReport.properties.map.type" settings-available="true" on-drop="onDropField(elements, item, \'column\')" on-remove="onRemoveField(elements, item, \'column\')" zone-info="\'Drop here your type column\' | translate" max-elements="1"></app-report-dropzone>\n\n    <!-- Filters -->\n\n    <div id="filtersDropzone"  class="container-fluid column-zone no-padding" app-drop-target on-drop="onDropOnFilter($event)" drop-accept="application/vnd.urungi.layer-element+json">\n        <div class="filter-zone-label pull-right" ng-hide="selectedReport.properties.filters.length > 0 || selectedReport.properties.recordLimit != undefined" translate>Drop here your filters</div>\n        <ul class="ul-drop no-padding" ng-model="selectedReport.properties.filters" ui-sortable="filterSortableOptions" ng-include="\'partials/report/partials/filter.html\'"></ul>\n    </div>\n\n    <!-- Order keys -->\n\n    <app-report-dropzone id="orderByDropzone" ng-if="selectedReport.reportType != \'pivot\' && selectedReport.reportType != \'indicator\' && selectedReport.reportType != \'gauge\' && selectedReport.reportType != \'pyramid\' && selectedReport.reportType != \'map\'" report="selectedReport" elements="selectedReport.properties.order" set-sort-type="setSortType(item, direction)" on-drop="onDropField(elements, item, \'order\')" on-remove="onRemoveField(elements, item, \'order\')" zone-info="\'Drop here your order keys\' | translate"></app-report-dropzone>\n');
$templateCache.put('partials/report/partials/filter.html','<li class="filter-box"\n    drop="onDropOnFilter($data, $event, filter)" drop-effect="copy" drop-accept="[\'json/custom-object\',\'json/column\']" \n    ng-repeat="filter in selectedReport.properties.filters" >\n    \n    <app-filter-prompt is-prompt="false" filter="filter" on-change="filterChanged()" set-prompt="showFilterModal(filter)" on-remove="onRemoveFilter(filter)"></app-filter-prompt>\n</li>\n\n<li class="filter-box" ng-show="selectedReport.properties.recordLimit!=undefined">\n    <span class="pull-right" style="padding: 7px 0;"><i class="fa fa-times hand-cursor" ng-click="forgetRecordLimit();"></i></span>\n\n    <div class="container-fluid form-inline">\n        <div class="col-md-11" translate>\n\n            Only show the first\n            <input type="number" ng-model="selectedReport.properties.recordLimit" size="8">\n            elements\n\n        </div>\n\n    </div>\n</li>\n');
$templateCache.put('partials/report/partials/report-edit.html','\n<div ng-include src="filterPromptModal"></div>\n\n<!--choose a widget to see your data-->\n<div id="reportType" class="container-fluid" ng-hide="queryID" style="width: 100%;">\n    <div class="row">\n        <div class="col-sm-12">\n            <!-- TYPE OF REPORT SELECTION -->\n            <a id="reportTypeGrid" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'grid\', \'report-unselected-btn\': selectedReport.reportType != \'grid\'}" ng-click="changeReportType(\'grid\')"><img src="images/grid.png"></a>\n            <a id="reportTypeVerticalGrid" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'vertical-grid\', \'report-unselected-btn\': selectedReport.reportType != \'vertical-grid\'}" ng-click="changeReportType(\'vertical-grid\')"><img src="images/vertical_grid.png"></a>\n            <a id="reportTypeCrossTable" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'pivot\', \'report-unselected-btn\': selectedReport.reportType != \'pivot\'}" ng-click="changeReportType(\'pivot\')"><img src="images/pivot_table.png"></a>\n            <a id="reportTypeChartLine" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'chart-line\', \'report-unselected-btn\': selectedReport.reportType != \'chart-line\'}" ng-click="changeReportType(\'chart-line\')"><img src="images/chart_line.png"></a>\n            <a id="reportTypePyramid" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'pyramid\', \'report-unselected-btn\': selectedReport.reportType != \'pyramid\'}" ng-click="changeReportType(\'pyramid\')"><img src="images/pyramid.png"></a>\n            <a id="reportTypeChartDonut" class="btn report-type-button" ng-class="{\'report-selected-btn\': [\'chart-donut\', \'chart-pie\'].includes(selectedReport.reportType), \'report-unselected-btn\': ![\'chart-donut\', \'chart-pie\'].includes(selectedReport.reportType)}" ng-click="changeReportType(\'chart-donut\')"><img src="images/chart_donut.png"></a>\n            <a id="reportTypeIndicator" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'indicator\', \'report-unselected-btn\': selectedReport.reportType != \'indicator\'}" ng-click="changeReportType(\'indicator\')"><img src="images/indicator.png"></a>\n            <a id="reportTypeGauge" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'gauge\', \'report-unselected-btn\': selectedReport.reportType != \'gauge\'}" ng-click="changeReportType(\'gauge\')"><img src="images/gauge.png"></a>\n            <a id="reportTypeMap" class="btn report-type-button" ng-class="{\'report-selected-btn\': selectedReport.reportType == \'map\', \'report-unselected-btn\': selectedReport.reportType != \'map\'}" ng-click="changeReportType(\'map\')"><img src="images/gps-pin.png"></a>\n\n\n            <button ng-show="isReportSettingsModalAvailable()" type="button" class="btn btn-default btn-sm pull-right" title="{{ \'Report settings\' | translate }}" ng-click="openReportSettingsModal()">\n                <i class="fa fa-gear"></i>\n            </button>\n        </div>\n    </div>\n</div>\n\n<div id="dropArea" class="container-fluid" style="width: 100%;" ng-include src="dropArea"></div>\n\n<div ng-if="previewAvailable()" class="container-fluid branded-border-panel" style="width: 100%;">\n    <div>\n        <span ng-show="selectedReport.properties.recordLimit == undefined">\n            <span translate>Quick display with</span>\n            <input type="number" ng-model="selectedRecordLimit.value" size="8">\n            <span translate>results.</span>\n            <button id="setLimit" class="btn btn-default" ng-click="chooseRecordLimit();" style="padding: 3px 10px;" uib-tooltip="{{ \'Move the limit to the filter area, will be used during runtime, not only during report building\' | translate }}" translate>Filter</button>\n        </span>\n        <button  id="viewSQL" class="btn btn-default" ng-show="user.viewSQL && sql" ng-click="getSQLPanel();"  style="padding: 3px 10px;"  translate>View SQL</button>\n        <span class="pull-right">\n            <button id="queryRefresh" class="btn btn-success" ng-show="previewAvailable()" ng-click="refresh();" style="padding: 3px 10px;">\n                <i class="fa fa-refresh hand-cursor"></i>\n                <span translate>Redraw</span>\n                <span ng-if="time !== undefined">({{time}}ms)</span>\n            </button>\n        </span>\n    </div>\n</div>\n\n<div class="container-fluid" ng-show="sql && mode ==\'add\' && !isForDash" style="width: 100%;">\n\n    <button class="btn btn-success pull-right" ng-if="user.reportsCreate" ng-click="reportName()" style="margin-left: 5px;" translate>Save as a report</button>\n    <button class="btn btn-success pull-right" ng-if="user.dashboardsCreate" ng-click="pushToDash()" style="margin-left: 5px;" translate>Push it to a Dashboard</button>\n</div>\n<div class="container-fluid" ng-show="sql && isForDash" style="width: 100%;">\n    <button class="btn btn-success pull-right"  style="margin-left: 5px;" data-ng-click="saveReportStructure(); saveReport4Dashboard(mode); initReport();" translate>Save</button>\n</div>\n\n\n<div ng-show="showSQL" class="panel" style="z-index: 100;">\n    <div class="panel-heading">\n        <div class="panel-title">\n            <span translate>SQL query</span>\n            <button type="button" class="close" ng-click="getSQLPanel();">&times;</button>\n        </div>\n    </div>\n\n    <div class="panel-body">\n        <p>{{sql}}</p>\n    </div>\n</div>\n\n<div report-view report="selectedReport" style="position: relative; overflow: auto;" mode="mode"></div>\n\n\n<div ng-include src="reportNameModal"></div>\n<div ng-include src="dashListModal"></div>\n');
$templateCache.put('partials/reports/criteria-input.html','<span class="form-inline">\n    <div class="form-group" uib-tooltip="{{ vm.filter.promptInstructions }}" tooltip-enable="vm.isPrompt">\n        <label ng-if="vm.isPrompt" class="control-label">{{vm.filter.promptTitle}} {{ vm.getFilterTypeLabel(vm.filter.filterType) }}</label>\n\n        <!-- Date -->\n        <span ng-if="(vm.filter.elementType == \'date\' && (vm.filter.filterType != \'null\' && vm.filter.filterType != \'notNull\'))">\n\n            <!--preformated date selector -->\n            <div class="input-group" uib-dropdown ng-if="vm.filter.filterType == \'equal-pattern\' || vm.filter.filterType == \'diferentThan-pattern\' || vm.filter.filterType == \'biggerThan-pattern\' || vm.filter.filterType == \'biggerOrEqualThan-pattern\' || vm.filter.filterType == \'lessThan-pattern\' || vm.filter.filterType == \'lessOrEqualThan-pattern\'">\n                <input placeholder="{{vm.filter.promptTitle}}" type="text" class="form-control" ng-value="vm.criterion.label" readonly>\n                <span class="input-group-btn" >\n                    <span class="dropdown" >\n                        <button type="button" class="btn btn-white dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                            <i class="fa fa-caret-down"></i>\n                        </button>\n                        <ul class="dropdown-menu shorter-menu">\n                            <li ng-repeat="option in vm.getDatePatternFilters()"><a ng-click="vm.setDatePatternFilterType(option);">{{option.label}}</a></li>\n\n                        </ul>\n                    </span>\n                </span>\n                <span ng-if="vm.filter.promptMandatory != true || !vm.isPrompt" class="input-group-btn" >\n                    <button type="button" class="btn btn-white" ng-click="vm.clearFilter()">\n                        <i class="fa fa-times"></i>\n                    </button>\n                </span>\n\n            </div>\n\n            <!-- date input -->\n            <div class="input-group" ng-if="(vm.filter.elementType == \'date\' && (vm.filter.filterType == \'equal\' || vm.filter.filterType == \'diferentThan\' || vm.filter.filterType == \'biggerThan\' || vm.filter.filterType == \'biggerOrEqualThan\' || vm.filter.filterType == \'lessThan\'  || vm.filter.filterType == \'lessOrEqualThan\' || vm.filter.filterType == \'between\'  || vm.filter.filterType == \'notBetween\'))" style="width: 150px;">\n                <input type="text" class="form-control" ng-model="vm.criterion.date1">\n                <span class="input-group-btn" >\n                    <span class="dropdown" >\n                        <a class="btn btn-primary popover-primary ng-scope"  id="dropdown1" role="button" data-toggle="dropdown"><i class="fa fa-calendar"></i></a>\n                        <ul class="dropdown-menu" role="menu">\n                            <datetimepicker ng-model="vm.criterion.date1" data-datetimepicker-config="{ startView:\'day\', minView:\'day\', modelType: \'YYYY-MM-DD\' }"/>\n                        </ul>\n                    </span>\n                </span>\n            </div>\n\n            <!--between for date -->\n            <span class="filter-label-value" ng-if="(vm.filter.filterType == \'between\' || vm.filter.filterType == \'notBetween\') && vm.filter.elementType == \'date\'" style="color: #00f;" translate> and </span>\n\n            <div class="input-group" ng-if="(vm.filter.filterType == \'between\' || vm.filter.filterType == \'notBetween\') && vm.filter.elementType == \'date\'" style="width: 150px;">\n                <input type="text" class="form-control" ng-model="vm.criterion.date2">\n                <span class="input-group-btn" >\n                    <span class="dropdown" >\n                        <a class="btn btn-primary popover-primary ng-scope"  id="dropdown2" role="button" data-toggle="dropdown"><i class="fa fa-calendar"></i></a>\n                        <ul class="dropdown-menu" role="menu">\n                            <datetimepicker ng-model="vm.criterion.date2" data-datetimepicker-config="{ startView: \'day\', minView: \'day\', modelType: \'YYYY-MM-DD\' }"/>\n                        </ul>\n                    </span>\n                </span>\n            </div>\n        </span>\n        <!-- END Date -->\n\n        <!--equal, in, etc ...-->\n        <span ng-if="vm.filter.elementType !== \'date\'">\n            <span ng-if="!(vm.filter.filterType == \'null\' || vm.filter.filterType == \'notNull\') && ( vm.filter.elementType != \'array\') && ( vm.filter.elementType != \'date\') && (vm.filter.filterType != \'notIn\') && (vm.filter.filterType != \'in\')">\n                <div class="input-group input-group-sm">\n                    <input placeholder="{{vm.filter.promptTitle}}" type="text" class="form-control" ng-model="vm.criterion.text1" ng-required="vm.filter.promptMandatory == true" uib-typeahead="value for value in vm.getFilterValues($viewValue)" typeahead-focus-first="false" typeahead-min-length="0">\n                    <span class="input-group-btn" >\n                        <button type="button" ng-if="!( vm.isPrompt && vm.filter.promptMandatory )" class="btn btn-default" ng-click="vm.clearFilter(vm.filter)" uib-tooltip="{{ \'Click here to clear the selected value\' | translate }}" tooltip-placement="bottom">\n                            <i class="fa fa-times"></i>\n                        </button>\n                    </span>\n                </div>\n            </span>\n\n            <span ng-if="(vm.filter.filterType == \'notIn\' || vm.filter.filterType == \'in\')">\n                <div class="input-group">\n                    <ui-select multiple ng-model="vm.criterion.textList" theme="bootstrap" ng-disabled="disabled" class="input-in">\n                        <ui-select-match placeholder="{{vm.filter.promptTitle}}">{{$item}}</ui-select-match>\n                        <ui-select-choices repeat="value in vm.values track by $index" refresh="vm.getFilterValues($select.search)" refresh-delay="0">\n                            <div ng-bind-html="value | highlight: $select.search"></div>\n                        </ui-select-choices>\n                    </ui-select>\n                </div>\n            </span>\n\n            <!--between-->\n            <span ng-show="vm.filter.filterType == \'between\' || vm.filter.filterType == \'notBetween\'" translate>AND</span>\n\n            <span class="input-group input-group-sm" ng-show="vm.filter.filterType == \'between\' || vm.filter.filterType == \'notBetween\'">\n                <input placeholder="{{vm.filter.promptTitle}}" type="text" class="form-control" ng-model="vm.criterion.text2" ng-required="vm.filter.promptMandatory == true" uib-typeahead="value for value in vm.getFilterValues($viewValue)" typeahead-focus-first="false" typeahead-min-length="0">\n\n                <span class="input-group-btn">\n                    <button type="button" class="btn btn-default" ng-if="!( vm.isPrompt && vm.filter.promptMandatory )" ng-click="vm.clearFilter(vm.filter)" uib-tooltip="{{ \'Click here to clear the selected value\' | translate }}" tooltip-placement="bottom">\n                        <i class="fa fa-times"></i>\n                    </button>\n                </span>\n            </span>\n        </span>\n\n        <button type="button" class="btn btn-sm" ng-if="vm.isPrompt" ng-click="vm.inputChanged(vm.filter)" translate>Run</button>\n    </div>\n</span>\n');
$templateCache.put('partials/reports/filter-prompt.html','<div class="filter-prompt">\n    <span ng-if="!vm.isPrompt">\n        <span class="pull-right" style="padding: 7px 0;">\n            <i class="fa fa-times hand-cursor" ng-click="vm.removeFilter()"></i>\n        </span>\n\n        <div class="container-fluid form-inline">\n            <span class="col-md-1">\n                <button class="btn popover-primary ng-scope" ng-class="{\'btn-black\': vm.filter.filterPrompt == true, \'btn-white\': vm.filter.filterPrompt == false}" ng-click="vm.makePrompt()" popover-trigger="mouseenter" popover-placement="bottom" popover-title="{{ \'Runtime Filter\' | translate }}" popover="{{vm.getButtonFilterPromptMessage(vm.filter)}}">\n                    <i class="fa fa-filter"></i><i class="fa fa-question"></i>\n                </button>\n            </span>\n\n            <span class="col-md-11">\n                <form role="form" class="form-inline" name="FORM_filter">\n                    <!-- Column label -->\n\n                    <div class="input-group" uib-dropdown>\n                        <input type="text" class="form-control" ng-model="vm.filter.elementLabel" readonly>\n                    </div>\n\n                    <!-- equal, not equal, bigger than, etc...-->\n\n                    <span class="btn-group" uib-dropdown>\n                        <button type="button" class="btn" ng-bind="vm.getFilterTypeLabel(vm.filter.filterType)"></button>\n                        <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                            <i class="fa fa-caret-down"></i>\n                        </button>\n                        <ul class="dropdown-menu">\n                            <li ng-repeat="option in vm.getElementFilterOptions()"><a ng-click="vm.setFilterType(option)">{{ vm.getFilterTypeLabel(option) }}</a></li>\n                        </ul>\n                    </span>\n\n                    <!-- criterion -->\n\n                    <span ng-include="vm.criteriaInput"></span>\n                </form>\n            </span>\n        </div>\n    </span>\n\n    <div ng-if="vm.isPrompt">\n        <span ng-include="vm.criteriaInput"></span>\n    </div>\n</div>\n');
$templateCache.put('partials/reports/list.html','<div id="parentIntro" ng-intro-method="vm.showIntro" ng-intro-options="vm.introOptions" class="container-fluid root-container">\n    <div class="row">\n        <div class="main col-md-3">\n            <app-sidebar show-intro="vm.showIntro()"></app-sidebar>\n        </div>\n\n        <div class="main col-md-9">\n            <div class="page-header">\n                <span class="h3" translate>Reports</span>\n\n                <a id="newReportButton" ng-if="vm.creationAuthorised" href="reports/new/" class="btn btn-success pull-right" uib-tooltip="{{ \'Click here to create a new single query report\' | translate }}" tooltip-placement="bottom" translate>Create new report</a>\n                <a class="btn btn-info pull-right" ng-click="vm.showIntro()" style="margin-right: 3px;" uib-tooltip="{{ \'Follow the guided tour for reports\' | translate }}" tooltip-placement="bottom"><i class="fa fa-question-circle"></i></a>\n            </div>\n\n            <app-reports-table></app-reports-table>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/reports/report-column-settings-modal.component.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>\n    <h4 translate>Settings for \'{{ vm.column.elementLabel }}\'</h4>\n</div>\n\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group">\n            <label class="col-sm-3 control-label" for="report-column-settings-modal-label" translate>Label</label>\n            <div class="col-sm-9">\n                <input type="text" class="form-control" id="report-column-settings-modal-label" name="report-column-settings-modal-label" ng-model="vm.settings.label">\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.isAggregatable()">\n            <label class="col-sm-3 control-label" for="report-column-settings-modal-aggregation">Aggregation</label>\n            <div class="col-sm-9">\n                <select id="report-column-settings-modal-aggregation" class="form-control" ng-model="vm.settings.aggregation" ng-options="item.value as item.name for item in vm.aggregationsOptions">\n                    <option value="">No aggregation</option>\n                </select>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.report.reportType === \'chart-line\'">\n            <label class="col-sm-3 control-label">Type</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="spline">\n                        <img src="images/spline.png">\n                        <span translate>Spline</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="bar">\n                        <i class="fa fa-bar-chart"></i>\n                        <span translate>Bar</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="area">\n                        <i class="fa fa-area-chart"></i>\n                        <span translate>Area</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="line">\n                        <i class="fa fa-line-chart"></i>\n                        <span translate>Line</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="area-spline">\n                        <img src="images/area-spline.png">\n                        <span translate>Area spline</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.type" value="scatter">\n                        <img src="images/scatter.png">\n                        <span translate>Scatter</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.report.properties.xkeys.length > 1 && vm.settings.type === \'bar\'">\n            <label class="col-sm-3 control-label">Stack columns</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.doNotStack" ng-value="false">\n                        <span translate>Yes</span>\n                    </label>\n                </div>\n\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.doNotStack" ng-value="true">\n                        <span translate>No</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.column.elementType === \'date\'">\n            <label class="col-sm-3 control-label" translate>Format</label>\n            <div class="col-sm-9">\n                <input type="text" ng-model="vm.settings.format">\n                <div class="help-block" translate translate-params-url="\'https://momentjs.com/docs/#/displaying/\'">\n                    See <a ng-href="{{ url }}" target="_blank" rel="noreferrer">documentation</a> for examples\n                </div>\n            </div>\n        </div>\n        <div class="form-group" ng-if="vm.column.elementType === \'number\'">\n            <label class="col-sm-3 control-label" translate>Format</label>\n            <div class="col-sm-9">\n                <input type="text" ng-model="vm.settings.format">\n                <div class="help-block" translate translate-params-url="\'http://numeraljs.com/#format\'">\n                    See <a ng-href="{{ url }}" target="_blank" rel="noreferrer">documentation</a> for examples\n                </div>\n            </div>\n        </div>\n\n        <div class="form-group" ng-if="vm.canCalculateTotal()">\n            <label class="col-sm-3 control-label" translate>Calculate total</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.calculateTotal" ng-value="false">\n                        <span translate>No</span>\n                    </label>\n                </div>\n\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.calculateTotal" ng-value="true">\n                        <span translate>Yes</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n\n        <div class="form-group" ng-if="vm.report.reportType === \'map\' && vm.column.elementName === \'type\'" ng-repeat="category in vm.categories">\n            <label class="col-sm-3 control-label" translate>Icon for {{category}}</label>\n                <div class="col-sm-9">\n                    <input type="text" ng-model="vm.settings.icon[category]">\n                    <span class="help-block" translate>Type the name of a Font Awesome 4 icon <a href="https://fontawesome.com/v4.7/icons/" target="_blank" rel="noreferrer">(See the list)</a></span>\n                </div>\n        </div>\n    </form>\n</div>\n\n<div class="modal-footer">\n    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button ng-click="vm.close({ $value: vm.settings });" class="btn btn-primary" translate>Save settings</button>\n</div>\n');
$templateCache.put('partials/reports/report-dropzone.component.html','<div class="container-fluid column-zone no-padding" app-drop-target drop-accept="application/vnd.urungi.layer-element+json" on-drop="vm.onDropItem($event)">\n\n    <div class="filter-zone-label pull-right" ng-hide="vm.elements.length > 0">{{ vm.zoneInfo | translate }}</div>\n    <ul class="ul-drop no-padding" ng-model="vm.elements" ui-sortable>\n        <li class="column-box" ng-repeat="item in vm.elements">\n            <i class="fa fa-cube" ng-show="item.elementType != \'number\' && item.elementType != \'count\'"></i>\n            <i class="fa fa-list-ol" ng-show="item.elementType == \'number\' || item.elementType == \'count\'"></i>\n            <span>{{ vm.getColumnDescription(item) }}</span>\n            <span class="hand-cursor column-box-agg-btn" ng-if="vm.settingsAvailable" ng-click="vm.openColumnSettingsModal(item)">\n                <i class="fa fa-cog"></i>\n            </span>\n\n            <span ng-if="vm.setSortType">\n                <i ng-show="item.sortType == -1" class="fa fa-chevron-down hand-cursor order-box-close-btn" ng-click="vm.setSortType({ item: item, direction: 1 })" uib-tooltip="{{\'Click here to order descendent using this field\' | translate}}" tooltip-placement="bottom"></i>\n\n                <i ng-show="item.sortType != -1" class="fa fa-chevron-up hand-cursor order-box-close-btn" ng-click="vm.setSortType({ item: item, direction: -1 })" uib-tooltip="{{\'Click here to order ascendent using this field\' | translate}}" tooltip-placement="bottom"></i>\n            </span>\n\n            <i class="fa fa-times hand-cursor column-box-close-btn" ng-click="vm.onRemoveItem(item)" uib-tooltip="{{ \'Remove this item from this dimension\' | translate }}" tooltip-placement="bottom"></i>\n        </li>\n    </ul>\n</div>\n');
$templateCache.put('partials/reports/report-settings-modal.component.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>\n    <h4 translate>Report settings</h4>\n</div>\n\n<div class="modal-body">\n    <form class="form-horizontal">\n        <div class="form-group" ng-if="!vm.isForDash">\n            <label class="col-sm-3 control-label" translate>Theme</label>\n            <div class="col-sm-9">\n                <app-theme-select theme="vm.settings.theme" on-change="vm.settings.theme = theme"></app-theme-select>\n            </div>\n        </div>\n\n        <div class="form-group" ng-if="[\'chart-pie\', \'chart-donut\'].includes(vm.report.reportType)">\n            <label class="col-sm-3 control-label" translate>Report type</label>\n            <div class="col-sm-9">\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.reportType" name="report-settings-modal-report-type" value="chart-donut">\n                        <img src="images/donut.png">\n                        <span translate>Donut</span>\n                    </label>\n                </div>\n                <div class="radio">\n                    <label>\n                        <input type="radio" ng-model="vm.settings.reportType" name="report-settings-modal-report-type" value="chart-pie">\n                        <img src="images/pie.png">\n                        <span translate>Pie</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="[\'chart-line\', \'chart-pie\', \'chart-donut\'].indexOf(vm.report.reportType) >= 0">\n            <label class="col-sm-3 control-label" translate>Legend position</label>\n            <div class="col-sm-9">\n                <select class="form-control" ng-model="vm.settings.legendPosition">\n                    <option value="top" translate>top</option>\n                    <option value="right" translate>right</option>\n                    <option value="bottom" translate>bottom</option>\n                    <option value="none" translate>none</option>\n                </select>\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="vm.report.reportType === \'gauge\'">\n            <label class="col-sm-3 control-label" translate>Gauge max value</label>\n            <div class="col-sm-9">\n                <input class="form-control" ng-model="vm.settings.maxValue" type="number">\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="vm.report.reportType.startsWith(\'chart\')">\n            <label class="col-sm-3 control-label" translate>Height</label>\n            <div class="col-sm-9">\n                <input class="form-control" ng-model="vm.settings.height" type="number">\n            </div>\n        </div>\n\n        <div class="form-group" ng-show="vm.report.reportType ===\'pyramid\'">\n            <label class="col-sm-3 control-label" translate>Limits</label>\n            <div class="col-sm-9">\n                <input class="form-control" ng-model="vm.settings.range" type="text">\n                <span class="help-block" translate>List your limits separated by a slash symbol <br>(Example : 20/30/40/50/60)</span> \n            </div>\n        </div>\n\n        <div class="form-group" ng-show="vm.report.reportType === \'map\'">\n            <label class="col-sm-3 control-label" translate>Map Layer</label>\n            <div class="col-sm-9">\n                <input class="form-control" ng-model="vm.settings.mapLayerUrl" type="string">\n                <span class="help-block" translate="">Default : <i>\'https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\'</i></span>\n            </div>\n        </div>\n    </form>\n</div>\n\n<div class="modal-footer">\n    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button ng-click="vm.close({ $value: vm.settings });" class="btn btn-primary" translate>Save settings</button>\n</div>\n');
$templateCache.put('partials/reports/reports-import-modal.html','<div class="modal-header">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>\n    <h4 translate>Choose a report to add to the dashboard</h4>\n</div>\n\n<div class="modal-body">\n    <app-reports-table on-select="vm.close({ $value: $report._id })" hide-buttons="true"></app-reports-table>\n</div>\n\n<div class="modal-footer">\n    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>\n</div>\n');
$templateCache.put('partials/reports/reports-list-buttons.html','<div class="btn-group btn-group-sm pull-right">\n    <button class="btn btn-silver"\n        uib-tooltip="{{ \'Share\' | translate }}"\n        uib-popover-template="\'share-popover.html\'"\n        popover-title="{{ \'Share to...\' | translate }}"\n        popover-trigger="\'outsideClick\'"\n        popover-placement="left"\n        popover-append-to-body="true"\n    >\n        <i class="fa fa-share-alt"></i>\n    </button>\n\n    <a class="btn btn-silver" ng-href="reports/edit/{{ vm.report._id }}" uib-tooltip="{{ \'Edit this report\' | translate }}" tooltip-placement="bottom">\n        <i class="fa fa-pencil"></i>\n    </a>\n\n    <button class="btn btn-silver" ng-click="vm.openDuplicateModal()" uib-tooltip="{{ \'Duplicate this report\' | translate}}" tooltip-placement="bottom">\n        <i class="fa fa-copy"></i>\n    </button>\n\n    <button class="btn btn-danger" ng-click="vm.openDeleteModal()" uib-tooltip="{{ \'Delete this report\' | translate}}" tooltip-placement="bottom">\n        <i class="fa fa-trash-o"></i>\n    </button>\n</div>\n\n<script type="text/ng-template" id="share-popover.html">\n    <app-share-popover item="vm.report" publish="vm.publish" unpublish="vm.unpublish" share="vm.share" unshare="vm.unshare" get-copy-link="vm.getCopyLink"></app-share-popover>\n</script>\n');
$templateCache.put('partials/reports/reports-table.component.html','<table class="table table-striped">\n    <colgroup>\n        <col style="width: 40%;">\n        <col style="width: 15%;">\n        <col style="width: 15%;">\n        <col style="width: 15%;">\n        <col ng-if="!vm.hideButtons" style="width: 15%;">\n    </colgroup>\n    <thead>\n        <tr>\n            <th>\n                <span translate>Name</span>\n                <app-table-column-sort on-sort="vm.onSort(\'reportName\', $dir)" sort-dir="vm.sortDir[\'reportName\']"></app-table-column-sort>\n            </th>\n            <th>\n                <span translate>Layer</span>\n                <app-table-column-sort on-sort="vm.onSort(\'layerName\', $dir)" sort-dir="vm.sortDir[\'layerName\']"></app-table-column-sort>\n            </th>\n            <th>\n                <span translate>Author</span>\n                <app-table-column-sort on-sort="vm.onSort(\'author\', $dir)" sort-dir="vm.sortDir[\'author\']"></app-table-column-sort>\n            </th>\n            <th>\n                <span translate>Created on</span>\n                <app-table-column-sort on-sort="vm.onSort(\'createdOn\', $dir)" sort-dir="vm.sortDir[\'createdOn\']"></app-table-column-sort>\n            </th>\n            <th ng-if="!vm.hideButtons"></th>\n        </tr>\n        <tr>\n            <td>\n                <app-table-column-filter on-filter="vm.onFilter(\'reportName\', $value)"></app-table-column-filter>\n            </td>\n            <td>\n                <app-table-column-filter on-filter="vm.onFilter(\'layer.name\', $value)"></app-table-column-filter>\n            </td>\n            <td>\n                <app-table-column-filter on-filter="vm.onFilter(\'author\', $value)"></app-table-column-filter>\n            </td>\n            <td></td>\n            <td ng-if="!vm.hideButtons"></td>\n        </tr>\n    </thead>\n    <tbody>\n        <tr ng-repeat="report in vm.reports">\n            <td>\n                <a ng-href="reports/view/{{ report._id }}" ng-click="vm.select($event, report)">{{ report.reportName }}</a>\n                <div class="badge-list">\n                    <span ng-if="report.isPublic" class="badge" translate>public</span>\n                    <span ng-if="report.isShared" class="badge" translate>shared</span>\n                </div>\n            </td>\n            <td>{{ report.layerName }}</td>\n            <td>{{ report.author }}</td>\n            <td>{{ report.createdOn | date }}</td>\n            <td ng-if="!vm.hideButtons"><app-reports-list-buttons report="report" on-delete="vm.refresh()" on-duplicate="vm.refresh()"></app-reports-list-buttons></td>\n        </tr>\n    </tbody>\n</table>\n\n<app-pager current-page="vm.currentPage" total-pages="vm.pages" on-page-change="vm.goToPage(page)"></app-pager>\n');
$templateCache.put('partials/reports/view.html','<script src="s/js-xlsx/xlsx.core.min.js"></script>\n<app-theme-link theme="vm.report.theme"></app-theme-link>\n\n<div class="container-fluid">\n    <div class="page-header">\n        <span class="h3" ng-bind="vm.report.reportName"></span>\n\n        <div class="pull-right">\n            <div class="btn-group">\n                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                    <span translate>Export</span> <span class="caret"></span>\n                </button>\n                <ul class="dropdown-menu">\n                    <li ng-class="{ disabled: !vm.exportAsPNGAvailable }">\n                        <a href="" ng-click="vm.exportAsPNGAvailable && vm.downloadAsPNG()">As PNG</a>\n                    </li>\n                    <li ng-class="{ disabled: !vm.exportAsPDFAvailable }">\n                        <a href="" ng-click="vm.exportAsPDFAvailable && vm.downloadAsPDF()">As PDF</a>\n                    </li>\n                    <li ng-if="vm.report.reportType === \'grid\'"><a href="" ng-click="vm.saveAsXLSX()" translate>As XLSX</a></li>\n                </ul>\n            </div>\n\n            <a ng-click="goBack()" class="btn btn-default" translate>Cancel</a>\n            <a ng-if="vm.report && ((vm.report.owner == user._id) || vm.isAdmin)" ng-href="reports/edit/{{vm.report._id}}"  class="btn btn-success" style="margin-right: 5px;" translate>Edit Report</a>\n        </div>\n    </div>\n</div>\n\n<div class="container-fluid">\n    <div class="row">\n        <div class="col-sm-12">\n            <div id="promptsModal" ng-show="vm.getPrompts().length > 0" class="prompts-block" style="position: relative;">\n                <div class="center-block" ng-repeat="prompt in vm.getPrompts()" style="padding-bottom: 5px; max-width: 800px;">\n                    <app-filter-prompt is-prompt="true" filter="prompt" on-change="vm.repaintWithPrompts()"></app-filter-prompt>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-sm-12">\n            <div report-view report="vm.report" mode="\'preview\'"></div>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/roles/list.html','<div class="container-fluid root-container">\n    <div class="row">\n        <div class="col-md-3">\n            <app-sidebar></app-sidebar>\n        </div>\n\n        <div class="col-md-9">\n            <div class="page-header">\n                <span class="h3" translate>Roles</span>\n                <a ng-click="vm.newRole()" class="btn btn-success pull-right" translate>New Role</a>\n            </div>\n\n            <div class="list-group">\n                <a ng-click="vm.view(role._id)" class="list-group-item" ng-repeat="role in vm.items">\n                    <h4 class="list-group-item-heading" ng-bind="role.name"></h4>\n                    <p class="list-group-item-text" ng-bind="role.description"></p>\n                </a>\n            </div>\n\n            <app-pager current-page="vm.page" total-pages="vm.pages" on-page-change="vm.goToPage(page)"></app-pager>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/roles/role-edit-modal.component.html','<script type="text/ng-template" id="role_grant_renderer.html">\n    <div data-nodrag ui-tree-handle class="tree-node tree-node-content">\n        <a class="btn btn-white btn-xs btn-round" ng-if="node.nodes && node.nodes.length > 0" data-nodrag ng-click="toggle(this)"><span class="fa" ng-class="{ \'fa-chevron-right\': collapsed, \'fa-chevron-down\': !collapsed }"></span></a>\n\n        {{node.title}}\n\n        <div class="pull-right">\n            <input type="checkbox" ng-model="vm.grantsMap[node.id].executeReports" ng-change="vm.onNodeChange(node, \'executeReports\')" class="pull-right" style="width:60px">\n            <input type="checkbox" ng-model="vm.grantsMap[node.id].executeDashboards" ng-change="vm.onNodeChange(node, \'executeDashboards\')" class="pull-right" style="width:60px">\n            <input type="checkbox" ng-model="vm.grantsMap[node.id].shareReports" ng-change="vm.onNodeChange(node, \'shareReports\')" class="pull-right" style="width:60px">\n        </div>\n    </div>\n\n    <ol data-nodrag ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">\n        <li data-nodrag  ng-repeat="node in node.nodes" ui-tree-node ng-include="\'role_grant_renderer.html\'">\n        </li>\n    </ol>\n</script>\n\n<div class="modal-header ng-scope">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true">&times;</button>\n    <h4 class="modal-title" translate>Role</h4>\n</div>\n\n<div class="modal-body">\n    <uib-tabset style="background-color: #eee; padding: 5px;">\n        <uib-tab heading="{{ \'General\' | translate }}">\n            <div class="container-fluid" >\n                <div class="row">\n                    <div class="col-sm-12">\n                        <div class="form-group">\n                            <label for="role-edit-modal-name" class="control-label" translate>Role name</label>\n                            <input id="role-edit-modal-name" class="form-control" ng-model="vm.role.name" required>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="row">\n                    <div class="col-sm-12">\n                        <div class="form-group">\n                            <label for="role-edit-modal-description" class="control-label" translate>Description</label>\n                            <textarea ng-model="vm.role.description" class="form-control" id="role-edit-modal-description" style="resize: vertical;"></textarea>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="row">\n                    <div class="col-md-12">\n                        <div class="form-group">\n                            <label class="control-label" translate>Permissions</label>\n                            <table class="table table-bordered table-striped table-condensed table-hover">\n                                <tbody>\n                                    <tr>\n                                        <th translate>Create reports</th>\n                                        <td style="text-align: center;"><input type="checkbox" ng-model="vm.role.reportsCreate"></td>\n                                    </tr>\n                                    <tr>\n                                        <th translate>Create dashboards</th>\n                                        <td style="text-align: center;"><input type="checkbox" ng-model="vm.role.dashboardsCreate"></td>\n                                    </tr>\n                                    <tr>\n                                        <th translate>Explore data</th>\n                                        <td style="text-align: center;"><input type="checkbox" ng-model="vm.role.exploreData"></td>\n                                    </tr>\n                                    <tr>\n                                        <th translate>See SQL</th>\n                                        <td style="text-align: center;"><input type="checkbox" ng-model="vm.role.viewSQL"></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </uib-tab>\n        <uib-tab heading="{{ \'Shared space permissions\' | translate }}">\n            <div class="row tree-node-content">\n                <span class="pull-right" style="width: 60px; font-size: 10px; overflow: hidden;" translate>Execute reports</span>\n                <span class="pull-right" style="width: 60px; font-size: 10px; overflow: hidden;" translate>Execute dashboards</span>\n                <span class="pull-right" style="width: 60px; font-size: 10px; overflow: hidden;" translate>Share reports</span>\n            </div>\n            <div ui-tree id="tree-root">\n                <ol ui-tree-nodes ng-model="vm.sharedSpace">\n                    <li ng-repeat="node in vm.sharedSpace" ui-tree-node ng-include="\'role_grant_renderer.html\'"></li>\n                </ol>\n            </div>\n        </uib-tab>\n    </uib-tabset>\n</div>\n\n<div class="modal-footer ng-scope">\n    <button type="button" class="btn btn-white" ng-click="vm.dismiss()" translate>Cancel</button>\n    <button type="button" class="btn btn-info" ng-click="vm.save()" translate>Save</button>\n</div>\n');
$templateCache.put('partials/sidebar/sidebar.html','<div class="list-group">\n    <div class="list-group-item active">\n        <a href="users/{{vm.user._id}}/" style="color: #fff;">\n            <i class="fa fa-fw fa-user"></i>\n            {{vm.user.userName}}\n        </a>\n        <a href="logout" class="badge">\n            <span translate>logout</span>\n            <i class="fa fa-sign-out" style="color: #f00;"></i>\n        </a>\n    </div>\n\n    <a id="homeMainMenu" href="home" class="list-group-item ">\n        <i class="fa fa-fw fa-home"></i>\n        <span translate>Home</span>\n    </a>\n    <a id="dashboardsMainMenu" ng-if="vm.user.dashboardsCreate || vm.counts.dashboards > 0" href="dashboards/list" class="list-group-item ">\n       <i class="fa fa-fw fa-dashboard"></i>\n       <span translate>My Dashboards</span>\n       <span class="badge">{{vm.counts.dashboards}}</span>\n    </a>\n    <a id="reportsMainMenu" ng-if="vm.user.reportsCreate || vm.counts.reports > 0" href="reports" class="list-group-item">\n       <i class="fa fa-fw fa-bar-chart"></i>\n       <span translate>My Reports</span>\n       <span class="badge">{{vm.counts.reports}}</span>\n    </a>\n    <a id="exploreMainMenu" ng-if="vm.user.exploreData" href="explore" class="list-group-item">\n        <i class="fa fa-fw fa-sun-o"></i>\n        <span translate>Explore</span>\n    </a>\n    <a id="sharedSpaceMainMenu" ng-show="vm.user.isAdmin()" href="shared-space" class="list-group-item">\n        <i class="fa fa-fw fa-sitemap"></i>\n        <span translate>Shared space</span>\n    </a>\n    <a id="layersMainMenu" ng-show="vm.user.isAdmin()" href="layers" class="list-group-item">\n        <i class="fa fa-fw fa-map-o"></i>\n        <span translate>Layers</span>\n        <span class="badge">{{vm.counts.layers}}</span>\n    </a>\n    <a id="datasourcesMainMenu" ng-show="vm.user.isAdmin()" href="data-sources" class="list-group-item">\n        <i class="fa fa-fw fa-database"></i>\n        <span translate>Data sources</span>\n        <span class="badge">{{vm.counts.datasources}}</span>\n    </a>\n    <a id="rolesMainMenu" ng-show="vm.user.isAdmin()" href="roles" class="list-group-item">\n        <i class="fa fa-fw fa-users"></i>\n        <span translate>Roles</span>\n        <span class="badge">{{vm.counts.roles}}</span>\n    </a>\n    <a id="usersMainMenu" ng-show="vm.user.isAdmin()" href="users" class="list-group-item">\n        <i class="fa fa-fw fa-user"></i>\n        <span translate>Users</span>\n        <span class="badge">{{vm.counts.users}}</span>\n    </a>\n    <a id="usersImport" ng-show="vm.user.isAdmin()" href="import" class="list-group-item">\n        <i class="fa fa-fw fa-upload"></i>\n        <span translate>Import</span>\n    </a>\n    <a id="usersExport" ng-show="vm.user.isAdmin()" href="export" class="list-group-item">\n        <i class="fa fa-fw fa-download"></i>\n        <span translate>Export</span>\n    </a>\n    <a ng-if="vm.showIntro && vm.user.contextHelp.includes(\'homeIndex\')" href="" class="list-group-item admin-menu" ng-click="vm.showIntro()">\n        <i class="fa fa-fw fa-map"></i>\n        <span translate>Guided tour</span>\n    </a>\n    <a id="aboutMenu" href="about" class="list-group-item">\n        <i class="fa fa-fw fa-question-circle"></i>\n        <span translate>About</span>\n    </a>\n    <span class="list-group-item main-menu-logo" >\n        <img src="images/urungi.png" class="img-responsive">\n    </span>\n</div>\n');
$templateCache.put('partials/spaces/index.html','<div id="parentIntro" ng-intro-method="showIntro"  ng-intro-options="IntroOptions" class="container-fluid root-container">\n    <div class="row">\n        <div class="main col-md-3">\n            <app-sidebar show-intro="showIntro()"></app-sidebar>\n        </div>\n\n        <div class="main col-md-9" ng-include="\'partials/spaces/shared.html\'">\n\n        </div>\n\n    </div>\n</div>\n');
$templateCache.put('partials/spaces/shared.html','\n<script type="text/ng-template" id="nodes_renderer.html">\n    <div id="sharedSpaceItem" class="tree-node tree-node-content">\n        <span ui-tree-handle><i class="fa fa-arrows"></i></span>\n        <a class="btn btn-white btn-xs btn-round" ng-if="node.nodes && node.nodes.length > 0" data-nodrag ng-click="toggle(this)"><span\n                class="fa"\n                ng-class="{\n          \'fa-chevron-right\': collapsed,\n          \'fa-chevron-down\': !collapsed\n        }"></span></a>\n        <span ng-if="!node.editing" ng-dblclick="node.editing = true">{{node.title}}</span>\n        <span ng-if="node.editing">\n            <input id="node{{node.id}}" type="text" ng-model="node.title" style="height: 25px; width: 150px; border: 1px dotted;" uib-tooltip="{{\'Type here the new name of the folder\' | translate}}" tooltip-placement="bottom"/>\n            <a class=" btn btn-white btn-xs btn-round" data-nodrag ng-click="node.editing = false" uib-tooltip="{{\'Click here to save the name of the folder and to get out of the edit mode\' | translate}}" tooltip-placement="bottom">\n                <span class="fa fa-save"></span>\n            </a>\n        </span>\n        <div class="pull-right" ng-if="!node.editing">\n            <a id="sharedSpaceItemEdit" class=" btn btn-danger-white btn-xs btn-round" data-nodrag ng-click="node.editing = true; " uib-tooltip="{{\'Click here to change the name of the folder\' | translate}}" tooltip-placement="bottom">\n                <span class="fa fa-edit"></span>\n            </a>\n            <a id="sharedSpaceItemRemove" class=" btn btn-danger-white btn-xs btn-round" data-nodrag ng-click="remove(this)" uib-tooltip="{{\'Click here to remove this folder (will remove all children folders)\' | translate}}" tooltip-placement="bottom">\n                <span class="fa fa-remove"></span>\n            </a>\n            <a id="sharedSpaceItemAdd" class=" btn btn-success-white btn-xs btn-round" data-nodrag ng-click="newSubItem(this)" style="margin-right: 8px;" uib-tooltip="{{\'Click here to add a new subfolder inside this\' | translate}}" tooltip-placement="bottom">\n                <span class="fa fa-plus"></span>\n            </a>\n        </div>\n    </div>\n    <ol ui-tree-nodes="" ng-model="node.nodes" ng-class="{hidden: collapsed}">\n        <li ng-repeat="node in node.nodes" ui-tree-node ng-include="\'nodes_renderer.html\'">\n        </li>\n    </ol>\n</script>\n<div class="page-header">\n    <h3 translate>Shared space</h3>\n</div>\n\n<div class="row">\n    <div class="col-md-12">\n        <a id="sharedSpaceNewFolderBtn" class="btn btn-success" ng-click="newSubItem(this)" uib-tooltip="{{\'Click here to add a new folder to the shared space\' | translate}}" tooltip-placement="bottom" translate>Add folder</a>\n        <a id="sharedSpaceSaveBtn" class="btn btn-success pull-right"  ng-click="save()" uib-tooltip="{{\'Click here to save changes to the shared space\' | translate}}" tooltip-placement="bottom" translate>Save</a>\n        <a class="btn btn-info pull-right" ng-click="showIntro()" style="margin-right: 3px;" uib-tooltip="{{\'Click here to conduct the guided tour for the shared space\' | translate}}" tooltip-placement="bottom"><i class="fa fa-map"></i></a>\n    </div>\n</div>\n\n<div id="sharedSpaceArea" ui-tree>\n    <ol ui-tree-nodes ng-model="data">\n        <li ng-repeat="node in data" ui-tree-node ng-include="\'nodes_renderer.html\'"></li>\n    </ol>\n</div>\n');
$templateCache.put('partials/users/list.html','<div class="container-fluid root-container">\n    <div class="row">\n        <div class="col-md-3">\n            <app-sidebar></app-sidebar>\n        </div>\n\n        <div class="col-md-9">\n            <div class="page-header">\n                <span class="h3" translate>Users</span>\n                <a ng-click="vm.newUser()" class="btn btn-success pull-right" translate>New User</a>\n            </div>\n\n            <div class="list-group">\n                <div class="list-group-item" ng-repeat="user in vm.users">\n                    <a class="badge pull-right" ng-class="{\'badge-success\': user.status == \'active\', \'badge-danger\': user.status == \'Not active\'}" ng-click="vm.changeUserStatus(user)">\n                        <span translate ng-if="user.status == \'active\'">active</span>\n                        <span translate ng-if="user.status == \'Not active\'">not active</span>\n                    </a>\n                    <a ng-href="users/{{user._id}}">\n                        <h4 class="list-group-item-heading" ng-bind="user.userName"></h4>\n                        <span class="list-group-item-text" ng-bind="user.firstName"></span>  <span class="list-group-item-text" ng-bind="user.lastName"></span>\n                    </a>\n                </div>\n            </div>\n\n            <app-pager current-page="vm.page" total-pages="vm.pages" on-page-change="vm.goToPage(page)"></app-pager>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/users/users-edit-modal.html','<div class="modal-header ng-scope">\n    <button type="button" class="close" ng-click="vm.dismiss()" aria-hidden="true"><i class="fa fa-close"></i></button>\n    <h4 ng-if="vm.mode == \'new\'" class="modal-title" translate>New User</h4>\n    <h4 ng-if="vm.mode != \'new\'" class="modal-title" translate>Edit User</h4>\n</div>\n\n<div class="modal-body ng-scope">\n    <div class="panel panel-default" style="background-color: #eee;">\n        <div class="panel-body">\n            <form name="myForm">\n                <div class="row">\n                    <div class="col-md-6">\n                        <div class="form-group">\n                            <label for="username" class="control-label" translate>User Nick</label>\n                            <input id="username" name="username" ng-disabled="vm.mode != \'new\'" class="form-control" ng-model="vm.user.userName" required>\n                            <div role="alert"><span class="error" ng-show="myForm.username.$error.required" translate>User Nick is required</span> </div>\n\n                        </div>\n                        <div class="form-group">\n                            <label for="fname" class="control-label" translate>First Name</label>\n                            <input id="fname" name="fname" class="form-control" ng-model="vm.user.firstName" required>\n                            <div role="alert"><span class="error" ng-show="myForm.fname.$error.required" translate>First Name is required</span> </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="lname" class="control-label" translate>Last Name</label>\n                            <input id="lname" name="lname" class="form-control" ng-model="vm.user.lastName" required>\n                            <div role="alert"><span class="error" ng-show="myForm.lname.$error.required" translate>Last Name is required</span> </div>\n                        </div>\n                        <div class="form-group">\n                            <label for="email" class="control-label" translate>email</label>\n                            <input id="email" name="email" class="form-control" ng-model="vm.user.email" required>\n                            <div role="alert"><span class="error" ng-show="myForm.email.$error.required" translate>email is required</span> </div>\n                        </div>\n                        <div ng-if="vm.mode == \'new\'" class="checkbox">\n                            <label>\n                                <input type="checkbox" id="sendPassword" ng-model="vm.user.sendPassword" >\n                                <p translate>Send password through email</p>\n                            </label>\n                        </div>\n\n                        <div ng-show="(vm.user.sendPassword == false && vm.mode == \'new\') || (vm.mode == \'edit\')" class="form-group">\n                            <label for="email" class="control-label" translate>Password</label>\n                            <table>\n                                <tr>\n                                    <td>\n                                        <input id="pwd1" class="form-control" placeholder="{{ \'Introduce password\' | translate }}" ng-model="vm.user.pwd1" required>\n                                    </td>\n                                    <td>\n                                        <input id="pwd2" class="form-control" placeholder="{{ \'Repeat password\' | translate }}" ng-model="vm.user.pwd2" required>\n                                    </td>\n                                </tr>\n                            </table>\n                        </div>\n\n                        <div ng-show="(vm.mode == \'edit\' && vm.user.email)" class="form-group">\n                              <button class="btn btn-warning" translate>Reset user password</button>\n                        </div>\n                    </div>\n\n                    <div class="col-md-6">\n                        <div class="form-group">\n                            <label for="title" class="control-label" translate>Title</label>\n                            <input id="title" class="form-control" ng-model="vm.user.title" >\n                        </div>\n\n                        <div class="form-group">\n                            <label for="department" class="control-label" translate>Department</label>\n                            <input id="department" class="form-control" ng-model="vm.user.department" >\n                        </div>\n\n                        <div class="form-group">\n                            <label for="businessUnit" class="control-label" translate>Business unit</label>\n                            <input id="businessUnit" class="form-control" ng-model="vm.user.businessUnit" >\n                        </div>\n\n                        <div class="form-group">\n                            <label for="unit" class="control-label" translate>Unit</label>\n                            <input id="unit" class="form-control" ng-model="vm.user.unit">\n                        </div>\n\n                        <div class="form-group">\n                            <label for="brand" class="control-label" translate>Brand</label>\n                            <input id="brand" class="form-control" ng-model="vm.user.brand" >\n                        </div>\n                    </div>\n                </div>\n\n                <div ng-if="vm.alertMessage && vm.alertMessage != \'\'" class="alert-block">{{ vm.alertMessage }}</div>\n\n                <div class="container-fluid">\n                    <button type="button" class="btn btn-info ng-pristine ng-valid pull-right"  ng-click="vm.checkForNewUser()" translate>Save</button>\n                    <button type="button" class="btn btn-white pull-right" ng-click="vm.dismiss()" translate>Close</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n');
$templateCache.put('partials/users/view.html','<div class="container-fluid root-container">\n    <div class="row">\n        <div class="col-md-3">\n            <app-sidebar></app-sidebar>\n        </div>\n\n        <div class="col-md-9">\n            <div class="page-header">\n                <span class="h3"><span translate>User</span> <small translate>User profile and permissions</small></span>\n                <div class="pull-right">\n                    <button ng-click="vm.editUser()" ng-if="vm.isAdmin" class="btn btn-success" translate>Edit</button>\n                </div>\n            </div>\n            <div class="row">\n                <div class="col-sm-3">\n                    <h4 class="text-center">\n                        {{ vm.user.userName }}\n\n                        <a class="badge" ng-class="{\'badge-success\': vm.user.status == \'active\', \'badge-danger\': vm.user.status == \'Not active\'}" ng-click="vm.changeUserStatus(vm.user)">\n                            <span translate ng-if="vm.user.status == \'active\'">active</span>\n                            <span translate ng-if="vm.user.status == \'Not active\'">not active</span>\n                        </a>\n                    </h4>\n\n                    <div class="text-center">\n                        {{ vm.user.title }}\n                    </div>\n                    <div class="text-center">\n                        {{ vm.user.department }}\n                    </div>\n                    <div class="text-center">\n                        {{ vm.user.businessUnit }}\n                    </div>\n                    <div class="text-center">\n                        {{ vm.user.unit }}\n                    </div>\n                    <div class="text-center">\n                        {{ vm.user.brand }}\n                    </div>\n\n                    <hr>\n\n                    <ul class="list-unstyled user-info-list">\n                        <li ng-repeat="role in vm.user.roles" style="color: #000;">\n                            <i ng-if="vm.isAdmin" class="fa fa-trash-o" style="color: #f00;" ng-click="vm.deleteRole(role)"></i> {{ vm.getRoleName(role) }}\n                        </li>\n                    </ul>\n                    <form ng-if="vm.isAdmin" class="form-inline">\n                        <div class="form-group">\n                            <label for="roleSelect" translate>Add role</label>\n                            <select ng-model="vm.selectedRole" placeholder="{{ \'Add a new role...\' | translate }}" ng-class="vm.selectedRole" id="roleSelect" class="form-control" ng-change="vm.selectedRoleChanged = true" ng-options="role._id as role.name for role in vm.getRolesNotInUser()"></select>\n                        </div>\n                        <button type="button" class="btn btn-link" ng-show="vm.selectedRoleChanged == true && vm.selectedRole != \'\'" ng-click="vm.addRole(vm.selectedRole)">\n                            <i class="fa fa-plus" style="color: #00a000;"></i>\n                        </button>\n                    </form>\n\n                    <hr>\n\n                    <div class="row" style="font-size: 14px;">\n                        <div class="col-sm-6">\n                            <span>{{ vm.userCounts.sharedReports }}</span>\n                            <span translate>shared reports</span>\n                        </div>\n                        <div class="col-sm-6">\n                            <span>{{ vm.userCounts.sharedDashboards }}</span>\n                            <span translate>shared dashboards</span>\n                        </div>\n                        <div class="col-sm-6">\n                            <span>{{ vm.userCounts.privateReports }}</span>\n                            <span translate>private reports</span>\n                        </div>\n                        <div class="col-sm-6">\n                            <span>{{ vm.userCounts.privateDashboards }}</span>\n                            <span translate>private dashboards</span>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="col-sm-9">\n                    <div class="row">\n                        <div class="col-sm-6">\n                            <div class="panel ng-scope">\n                                <div class="panel-heading hidden-print">\n                                    <div class="panel-title" translate>Reports</div>\n                                </div>\n                                <div class="panel-body">\n                                    <div class="list-group">\n                                        <a ng-href="reports/view/{{report._id}}" class="list-group-item" ng-repeat="report in vm.userReports">\n                                            {{ report.reportName }}\n                                            <span ng-if="report.isShared" class="badge badge-success pull-right" translate>shared</span>\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="col-sm-6">\n                            <div class="panel">\n                                <div class="panel-heading hidden-print">\n                                    <div class="panel-title" translate>Dashboards</div>\n                                </div>\n\n                                <div class="panel-body">\n                                    <div class="list-group">\n                                        <a ng-href="dashboards/view/{{ dsh._id }}" class="list-group-item" ng-repeat="dsh in vm.userDashboards">\n                                            {{ dsh.dashboardName }}\n                                            <span ng-if="dsh.isShared" class="badge badge-success pull-right" translate>shared</span>\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n');
$templateCache.put('partials/widgets/inspector.html','<div id="inspector" ng-show="selectedElement" bl-panels-accordion>\n\n  <div class="container-fluid">\n    <span> {{elementType}}</span>\n    <button ng-if="elementType != \'page\' && selectedElement" class="btn btn-danger pull-right" ng-click="deleteSelected()"><i class="fa fa-trash"></i></button>\n  </div>\n\n  <div class="container-fluid" style="background-color: transparent; margin-top: 10px; margin-bottom: 10px;" ng-if="elementType != \'page\'">\n     <table style="width: 100%;">\n         <tr>\n             <td style="width: 50%; padding-right: 5px;">\n               <button class="btn btn-info btn-small" ng-click="moveElementUp()" style="width: 100%;"><i class="fa fa-arrow-up"></i> <span translate>Up</span></button>\n             </td>\n             <td style="width: 50%;">\n               <button class="btn btn-info btn-small" ng-click="moveElementDown()" style="width: 100%;"><i class="fa fa-arrow-down"></i> <span translate>Down</span></button>\n             </td>\n         </tr>\n     </table>\n   </div>\n\n    <div class="form-group">\n        <div class="btn-group">\n            <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                <span translate>Clear direct formatting</span> <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu">\n                <li><a href="" ng-click="clearElementInlineStyle()" translate>This block only</a></li>\n                <li><a href="" ng-click="clearTreeInlineStyle()" translate>This block and its sub-blocks</a></li>\n            </ul>\n        </div>\n    </div>\n\n    <div ng-show="canEdit(\'attributes\')" class="inspector-panel accordion-item open" id="attributes-panel">\n        <h4 class="accordion-heading">{{ \'attributes\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n        <div class="accordion-body">\n            <div class="panel-box">\n                <div id="custom-attributes">\n                    <div class="form-group" ng-repeat="(name, config) in customAttributes">\n                        <label for="el-{{ name }}">{{ name }}</label>\n\n                        <!-- Render custom text input option -->\n                        <input ng-class="name.length > 7 ? \'long-name\' : \'\'" ng-if="config.text" type="text" id="el-{{ name }}" ng-model="config.value" ng-model-options="{ debounce: 300 }">\n                        <!-- Render custom select input option -->\n                        <select ng-if="config.list" id="el-{{ name }}" class="pretty-select" ng-model="config.value" ng-options="item.name for item in config.list"></select>\n                        <!-- /end custom options -->\n                    </div>\n                </div>\n                <div class="form-group" ng-if="elementType != \'page\'">\n                    <label for="el-height">{{ \'height\' | translate }}</label>\n                    <input class="pull-right" type="text" id="el-height" ng-model="inspector.styles.height" ng-model-options="{ debounce: 300 }">\n                </div>\n\n                <div class="form-group" ng-if="elementType == \'image\' || elementType == \'video\'">\n                    <label for="el-height">{{ \'source\' | translate }}</label>\n                    <input class="pull-right" type="text" id="el-source" ng-model="inspector.styles.source" ng-model-options="{ debounce: 300 }">\n                </div>\n\n                <div class="form-group" ng-if="elementType == \'heading\'">\n                    <label for="el-height">{{ \'heading\' | translate }}</label>\n                    <select id="heading-type" ng-model="inspector.styles.headingType">\n                        <option value="h1">h1</option>\n                        <option value="h2">h2</option>\n                        <option value="h3">h3</option>\n                        <option value="h4">h4</option>\n                        <option value="h5">h5</option>\n                        <option value="h6">h6</option>\n                    </select>\n                </div>\n\n                <div >\n                    <button ng-if="selected.isImage" ng-file-select="onFileSelect($files, \'src\')" class="btn btn-primary btn-block">{{ \'uploadImage\' | translate }}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!--  -->\n\n\n    <!--background-->\n    <section id="background-panel" class="inspector-panel accordion-item" ng-show="canEdit(\'background\')">\n        <h4 class="accordion-heading">{{ \'backgroundColor\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n\n        <div class="accordion-body">\n            <div class="panel-box">\n                <div colorpicker ng-model="properties.color"  class="color-picker-trigger" id="fill-color" style="width: 100%;"><div class="background-box"><input type="text" class="form-control" ng-model="properties.color" style="background-color: transparent;"/></div></div>\n            </div>\n\n        </div>\n    </section>\n\n    <!--background image-->\n    <section id="background-image" class="inspector-panel accordion-item" ng-show="canEdit(\'background\')">\n        <h4 class="accordion-heading">{{ \'backgroundImage\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n\n        <div class="accordion-body" >\n            <div class="btn-group">\n                <button type="btn" ng-click="openImageGallery(\'companyLogo\')" class="btn btn-primary btn-block" translate>Upload image</button>\n                <button type="btn" ng-click="setBackgroundImage()" class="btn btn-primary btn-block" translate>Delete background</button>\n            </div>\n            <div id="texturePresets">\n                <h5>{{ \'textures\' | translate }}</h5>\n                <ul class="img-presets-list" bl-pretty-scrollbar>\n                    <li ng-repeat="texture in textures track by $index">\n                        <div ng-click="selectPreset($event)" class="preset" ng-style="{ \'background-image\': \'url(images/textures/\'+$index+\'.png)\' }"></div>\n                    </li>\n                </ul>\n                <div id="image-properties">\n                    <h5>{{ \'imageProperties\' | translate }}</h5>\n                    <div id="img-positioning" class="clearfix">\n                        <div class="pull-left">\n                            <h6>{{ \'repeat\' | translate }}</h6>\n                            <ul class="list-unstyled">\n                                <li><div class="radio"><label><input value="no-repeat" ng-checked="properties.repeat == \'no-repeat\'" ng-model="properties.repeat" type="radio">{{ \'none\' | translate }}</label></div></li>\n                                <li><div class="radio"><label><input value="repeat-x" ng-checked="properties.repeat == \'repeat-x\'" ng-model="properties.repeat" type="radio">{{ \'horizontal\' | translate }}</label></div></li>\n                                <li><div class="radio"><label><input value="repeat-y" ng-checked="properties.repeat == \'repeat-y\'" ng-model="properties.repeat" type="radio">{{ \'vertical\' | translate }}</label></div></li>\n                                <li><div class="radio"><label><input value="repeat" ng-checked="properties.repeat == \'repeat\'" ng-model="properties.repeat" type="radio">{{ \'all\' | translate }}</label></div></li>\n                            </ul>\n                        </div>\n                        <div class="pull-right">\n                            <h6>{{ \'alignment\' | translate }}</h6>\n                            <div id="alignment" bl-img-alignment-grid></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div id="gradientPresets">\n                <h5>{{ \'gradients\' | translate }}</h5>\n                <ul class="img-presets-list" bl-pretty-scrollbar>\n                    <li ng-repeat="gradient in gradients track by $index">\n                        <div class="preset" ng-click="selectPreset($event)" ng-style="{ \'background-image\': gradient }"></div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </section>\n\n    <!-- -->\n    <!-- text style box starts -->\n    <section ng-show="canEdit(\'text\')" class="inspector-panel accordion-item" id="text-panel" >\n        <h4 class="accordion-heading">{{ \'textStyle\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n        <div class="accordion-body">\n            <div id="text-box" class="clearfix panel-box">\n                <div class="clearfix">\n                    <div class="col-md-8" style=" padding: 0;">\n                        <select id="el-font-family" class="pretty-select" ng-model="inspector.styles.text.fontFamily" data-width="170" style="width: 100%;">\n                            <option value="" translate>Font</option>\n                            <option ng-repeat="font in textStyles.baseFonts" data-font-family="{{ font.css }}" value="{{ font.css }}">{{ font.name }}</option>\n                        </select>\n                    </div>\n                    <div class="col-md-4" style="padding: 0; padding-left: 5px;">\n                    <div colorpicker ng-model="inspector.styles.text.color"  class="color-picker-trigger" id="fill-color" style="width: 100%; height: 35px;" ng-style="{background: inspector.styles.text.color}"><div class="background-box" style="padding: 0;"><input type="text" class="form-control" ng-model="inspector.styles.text.color" style="background-color: transparent;"/></div><div class="background-name">{{ \'color\' | translate }}</div></div>\n                    </div>\n                </div>\n\n                <div class="clearfix">\n                        <div class="col-md-8" style=" padding: 0;">\n                            <div class="icon-box italic" bl-toggle-text-style="fontStyle|italic">I</div>\n                            <div class="icon-box underline" bl-toggle-text-decoration="underline" ng-class="inspector.styles.text.textDecoration.indexOf(\'underline\') > -1 ? \'active\' : \'\'">U</div>\n                            <div class="icon-box strike" bl-toggle-text-decoration="line-through" ng-class="inspector.styles.text.textDecoration.indexOf(\'line-through\') > -1 ? \'active\' : \'\'">S</div>\n                            <div class="icon-box overline" bl-toggle-text-decoration="overline" ng-class="inspector.styles.text.textDecoration.indexOf(\'overline\') > -1 ? \'active\' : \'\'">O</div>\n                        </div>\n                        <div class="col-md-4" style=" padding: 0;">\n                            <select id="el-font-weight" class="form-control pretty-select" ng-model="inspector.styles.text.fontWeight" data-width="66" style="width: 100%;">\n                                <option ng-repeat="weight in textStyles.fontWeights" data-font-weight="{{ weight }}" value="{{ weight }}">{{ weight }}</option>\n                            </select>\n                        </div>\n                </div>\n                <div class="clearfix">\n                        <div id="el-font-style-box" class="col-md-6" style=" padding: 0;">\n\n                                <input type="text" id="el-font-size" ng-model="inspector.styles.text.fontSize" ng-model-options="{ debounce: 300 }" class="form-control " style="width: 100%;">\n                        </div>\n                        <div class="col-md-6" style=" padding: 0;">\n                                <div class="pull-right">\n                                    <div class="icon-box" bl-toggle-text-style="textAlign|left"><i class="fa fa-align-left"></i> </div>\n                                    <div class="icon-box" bl-toggle-text-style="textAlign|center"><i class="fa fa-align-center"></i> </div>\n                                    <div class="icon-box" bl-toggle-text-style="textAlign|right"><i class="fa fa-align-right"></i> </div>\n                                </div>\n\n                        </div>\n                </div>\n\n                <div class="clearfix">\n                </div>\n            </div>\n        </div>\n    </section>\n    <!-- text style box ends -->\n\n    <!-- margin and padding -->\n\n    <section >\n        <div id="padding-panel" class="inspector-panel accordion-item" ng-show="canEdit(\'padding\')">\n            <h4 class="accordion-heading">{{ \'padding\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n            <div class="accordion-body">\n                <div class="clearfix panel-box">\n                    <div bl-input-boxes="padding" class="clearfix input-boxes"></div>\n                </div>\n            </div>\n        </div>\n\n        <div id="margin-panel" class="inspector-panel accordion-item" ng-show="canEdit(\'margin\')">\n            <h4 class="accordion-heading">{{ \'margin\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n            <div class="accordion-body clearfix">\n                <div class="panel-box">\n                    <div bl-input-boxes="margin" class="clearfix input-boxes"></div>\n                </div>\n            </div>\n        </div>\n    </section>\n\n\n    <!-- -->\n\n    <!-- border box starts -->\n    <section id="border-box" ng-show="canEdit(\'box\')">\n\n        <div id="border-panel" class="inspector-panel accordion-item">\n            <h4 class="accordion-heading">{{ \'border\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n            <div class="accordion-body">\n                <div class="panel-box">\n                    <div class="clearfix" style="margin-bottom: 5px;">\n                        <div colorpicker ng-model="inspector.styles.border.color"  class="color-picker-trigger" id="fill-color" style="width: 58%; height: 35px; border-width: 5px;" ng-style="{borderColor: inspector.styles.border.color}"><div class="background-box" style="padding: 0;"><input type="text" class="form-control" ng-model="inspector.styles.border.color" style="background-color: transparent; height: 25px;"/></div><div class="background-name">{{ \'borderColor\' | translate }}</div></div>\n\n                        <select id="border-style" ng-model="inspector.styles.border.style">\n                            <option value="none">{{ \'none\' | translate }}</option>\n                            <option value="solid">{{ \'solid\' | translate }}</option>\n                            <option value="dashed">{{ \'dashed\' | translate }}</option>\n                            <option value="dotted">{{ \'dotted\' | translate }}</option>\n                            <option value="double">{{ \'double\' | translate }}</option>\n                            <option value="groove">{{ \'groove\' | translate }}</option>\n                            <option value="ridge">{{ \'ridge\' | translate }}</option>\n                            <option value="inset">{{ \'inset\' | translate }}</option>\n                            <option value="outset">{{ \'outset\' | translate }}</option>\n                        </select>\n                    </div>\n                    <div bl-input-boxes="border" class="clearfix input-boxes"></div>\n                </div>\n            </div>\n        </div>\n\n        <div id="border-radius-panel" class="inspector-panel accordion-item">\n            <h4 class="accordion-heading">{{ \'borderRoundness\' | translate }} <i class="fa fa-angle-down pull-right"></i></h4>\n            <div class="accordion-body">\n                <div id="borderRadius-box" class="panel-box clearfix">\n                    <div class="clearfix input-boxes radius-boxes" style="height: 95px;">\n                        <div class="big-box col-sm-6">\n                            <input ng-model="inspector.styles.border.radius" ng-model-options="{ debounce: 300 }">\n                        </div>\n                        <div class="small-boxes col-sm-6">\n                            <input ng-model="inspector.styles.border.radiusTopLeft" ng-model-options="{ debounce: 300 }">\n                            <input ng-model="inspector.styles.border.radiusTopRight" ng-model-options="{ debounce: 300 }">\n                            <input ng-model="inspector.styles.border.radiusBottomLeft" ng-model-options="{ debounce: 300 }">\n                            <input ng-model="inspector.styles.border.radiusBottomRight" ng-model-options="{ debounce: 300 }">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n        <!-- /border box ends -->\n\n    <div class="arrow-right" id="color-picker-arrow"></div>\n    <div class="arrow-right" id="background-arrow"></div>\n\n</div>\n');}]);})();